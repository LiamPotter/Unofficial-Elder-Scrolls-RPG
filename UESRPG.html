<div class="sheet-row" style = "width:750px;margin-left:5px;margin-top:-20px; margin-right:5px; background:white">
    <table style:"width:750px;">
        <th>
            <td class="sheet-bottom-border" style="margin-bottom:-60px;height:90px;width:750px;">
                <table>
                    <tr> 
                    <img src="https://raw.githubusercontent.com/LiamPotter/Unofficial-Elder-Scrolls-RPG/master/ESO-LogoBlack.png">
                    <p class="sheet-underheading" style="margin-left:-5px;padding-top:55px;white-space:nowrap;">Character Name</p>
                    <input type="text" name="attr_name"  
                    style="color:black;margin-left:-140px;margin-right:25px;height:25px;width: 190px;border-radius: 8px 0px 0px 0px;;
                    border-style:none none solid none;font-size:18px;margin-top:30px;vertical-align:bottom;"/>
                    </tr>
                </table>
                <table  style="vertical-align: top;margin-left:-10px;margin-right:20px;width:600px;height:80px;">
                     <tr>
                        <td> <p class="sheet-underheading" style="padding-right:5px;">Race</p></td>
                     <td style = "width:155px">
                        <input type="text" name="attr_race"  
                        style="color:black;width: 100%;border-style:none none solid none;font-size:15px;padding-bottom:-1px;border-radius: 0px 0px 0px 0px;"/>
                     </td>
                     <td >
                        <p class="sheet-underheading" style="padding-right:5px;margin-left:-35px;width:100px">Total XP</p>
                     </td>
                     <td>
                        <input type="text" name="attr_totalxp"  
                        style="color:black;width: 33%;border-style:none none solid none;font-size:15px;padding-bottom:-1px;border-radius: 0px 0px 0px 0px;"/>
                     </td>
                     <td>
                        <p class="sheet-underheading" style="padding-right:5px;margin-left:-145px;width:100px;">Current XP</p>
                     </td>
                     <td>
                        <input type="text" name="attr_xp"  
                        style="color:black;width: 43%;margin-left:-40px;border-style:none none solid none;font-size:15px;padding-bottom:-1px;border-radius: 0px 0px 0px 0px;"/>
                     </td>
                     </tr>
                     <tr>
                        <td> <p class="sheet-underheading" style="padding-right:5px;">Birthsign</p></td>
                     <td>
                        <input type="text" name="attr_birthsign"  
                        style="color:black;width: 100%;border-style:none none solid none;font-size:15px;padding-bottom:-1px;border-radius: 0px 0px 0px 0px;"/>
                     </td>
                        <td> <p class="sheet-underheading" style="padding-right:5px;padding-left:5px;">Elite Adv.</p></td>
                     <td>
                        <input type="text" name="attr_eliteadvance"  
                        style="color:black;width: 112.5%;border-style:none none solid none;font-size:15px;padding-bottom:-1px;border-radius: 0px 0px 0px 0px;"/>
                     </td>
                     </tr>
                </table>
            </td>
        </th>
        </table>
    
    <table style="vertical-align: top; margin-top:5px;margin-left:0px;width:99%;border-collapse:separate;">
            <tr>
                <td style=""></td>
                <td class="sheet-stat-column" style="font-weight: bold;padding-top:0px;border-style: solid solid none solid; border-width: 2px 2px 2px 2px;border-radius: 8px 0px 0px 0px;">
                    <button class = "sheet-stat-rollbutton" type="roll" style="font-size:10px;height:10px;vertical-align:top;margin-top:-3px;" 
                    value="&{template:check} {{title=Strength}} {{target=[[@{strength}+?{Modifier}]]}} @{luckrolls}" name="roll_StrCheck">Strength</button>
                </td>
                <td class="sheet-stat-column"style="font-weight: bold;padding-top:2px;border-style: solid none none none; border-width: 2px 2px 2px 2px;">
                    <button class = "sheet-stat-rollbutton" type="roll" style="font-size:10px;height:10px;vertical-align:top;margin-top:-4px;" 
                    value="&{template:check} {{title=Endurance}} {{target=[[@{endurance}+?{Modifier}]]}} @{luckrolls}" name="roll_EndCheck">Endurance</button>
                </td>
                <td class="sheet-stat-column"style="font-weight: bold;padding-top:2px;border-style: solid solid none solid; border-width: 2px 2px 2px 2px;">
                    <button class = "sheet-stat-rollbutton" type="roll" style="font-size:10px;height:10px;vertical-align:top;margin-top:-4px;" 
                    value="&{template:check} {{title=Agility}} {{target=[[@{agility}+?{Modifier}]]}} @{luckrolls}" name="roll_AgiCheck">Agility</button>
                </td>
                <td class="sheet-stat-column"style="font-weight: bold;padding-top:2px;border-style: solid none none none; border-width: 2px 2px 2px 2px;">
                    <button class = "sheet-stat-rollbutton" type="roll" style="font-size:10px;height:10px;vertical-align:top;margin-top:-4px;" 
                    value="&{template:check} {{title=Intelligence}} {{target=[[@{intelligence}+?{Modifier}]]}} @{luckrolls}" name="roll_IntCheck">Intelligence</button>
                </td>
                <td class="sheet-stat-column"style="font-weight: bold;padding-top:2px;border-style: solid solid none solid; border-width: 2px 2px 1px 1px;">
                    <button class = "sheet-stat-rollbutton" type="roll" style="font-size:10px;height:10px;vertical-align:top;margin-top:-4px;" 
                    value="&{template:check} {{title=Willpower}} {{target=[[@{willpower}+?{Modifier}]]}} @{luckrolls}" name="roll_IntCheck">Willpower</button>
                </td>
                <td class="sheet-stat-column"style="font-weight: bold;padding-top:2px;border-style: solid none none none; border-width: 2px 2px 2px 2px;">
                    <button class = "sheet-stat-rollbutton" type="roll" style="font-size:10px;height:10px;vertical-align:top;margin-top:-4px;" 
                    value="&{template:check} {{title=Perception}} {{target=[[@{perception}+?{Modifier}]]}} @{luckrolls}" name="roll_PercCheck">Perception</button>
                </td>
                <td class="sheet-stat-column"style="font-weight: bold;padding-top:2px;border-style: solid none none solid; border-width: 2px 2px 2px 2px;">
                     <button class = "sheet-stat-rollbutton" type="roll" style="font-size:10px;height:10px;vertical-align:top;margin-top:-4px;" 
                    value="&{template:check} {{title=Personality}} {{target=[[@{personality}+?{Modifier}]]}} @{luckrolls}" name="roll_PercCheck">Personality</button>
                </td>
                <td class="sheet-stat-column"style="font-weight: bold;padding-top:2px;border-style: solid solid none solid;border-width: 2px 2px 2px 2px;border-radius: 0px 8px 0px 0px;">
                    <button class = "sheet-stat-rollbutton" type="roll" style="font-size:10px;height:10px;vertical-align:top;margin-top:-4px;" 
                    value="&{template:check} {{title=Luck}} {{target=[[@{luck}+?{Modifier}]]}} @{luckrolls}" name="roll_LuckCheck">Luck</button>
                </td>
            </tr>
            <tr>
                <td class="sheet-stat-column-noncase" style="text-align:right;padding-right:5px;background:white;">Total</td>
                <td class="sheet-stat-column" style="border-style: none solid none solid; border-width: 2px 2px 2px 2px;">
                    <input type="text" name="attr_strength" class = "sheet-stat-box"style=""/>
                </td>
                <td class="sheet-stat-column">
                    <input type="text" name="attr_endurance" class = "sheet-stat-box"style=""/>
                </td>
                <td class="sheet-stat-column"style="border-style: none solid none solid; border-width: 2px 2px 2px 2px;">
                    <input type="text" name="attr_agility" class = "sheet-stat-box"style=""/>
                </td>
                <td class="sheet-stat-column">
                    <input type="text" name="attr_intelligence" class = "sheet-stat-box"style=""/>
                </td>
                <td class="sheet-stat-column"style="border-style: none solid none solid; border-width: 2px 2px 2px 2px;">
                    <input type="text" name="attr_willpower" class = "sheet-stat-box"style=""/>
                </td>
                <td class="sheet-stat-column">
                    <input type="text" name="attr_perception" class = "sheet-stat-box"style=""/>
                </td>
                <td class="sheet-stat-column"style="border-style: none none none solid; border-width: 2px 2px 2px 2px;">
                    <input type="text" name="attr_personality" class = "sheet-stat-box"style=""/>
                </td>
                <td class="sheet-stat-column"style="border-style: none solid none solid; border-width: 2px 2px 2px 2px;">
                    <input type="text" name="attr_luck" class = "sheet-stat-box"/>
                </td>
            </tr>
             <tr>
                  <td class="sheet-stat-column-noncase"style="text-align:right;padding-right:5px;background:white;">Favored</td>
                  <td class="sheet-stat-column"style="padding-bottom:2px;border-style: none solid none solid; border-width: 2px 2px 2px 2px;">
                  
                  <input type="checkbox" class = "sheet-checkbox" name="attr_fav_strength"/>
  
                  </td>
                   <td class="sheet-stat-column" style ="padding-bottom:2px;">
                      <input type="checkbox" class = "sheet-checkbox" name="attr_fav_endurance"/>
                  </td>
                   <td class="sheet-stat-column"style="padding-bottom:2px;border-style: none solid none solid; border-width: 2px 2px 2px 2px;">
                      <input type="checkbox" class = "sheet-checkbox" name="attr_fav_agility"/>
                  </td>
                   <td class="sheet-stat-column"style ="padding-bottom:2px;">
                      <input type="checkbox" class = "sheet-checkbox" name="attr_fav_intelligence"/>
                  </td>
                   <td class="sheet-stat-column"style="padding-bottom:2px;border-style: none solid none solid; border-width: 2px 2px 2px 2px;">
                      <input type="checkbox" class = "sheet-checkbox" name="attr_fav_willpower"/>
                  </td>
                   <td class="sheet-stat-column"style ="padding-bottom:2px;">
                      <input type="checkbox" class = "sheet-checkbox" name="attr_fav_perception"/>
                  </td>
                   <td class="sheet-stat-column"style="padding-bottom:2px;border-style: none none none solid; border-width: 2px 2px 2px 2px;">
                      <input type="checkbox" class = "sheet-checkbox" name="attr_fav_personality"/>
                  </td>
                  <td style="border-style: none solid none solid; border-width: 1px 2px 1px 1px; background:#ebebeb;  border-color:white;"></td>
                  
            </tr>
            <tr style="padding-top:5px;">
              <td class="sheet-stat-column-noncase"style="text-align:right;height:35px;padding-top:5px;padding-right:5px;background:white;">Bonus</td>
              <td class="sheet-stat-column"style="height:25px;border-style: solid solid solid solid; border-width: 2px 2px 2px 2px;border-radius: 0px 0px 0px 8px;"> 
                <input type="number" class = "sheet-autocalc-box" style="padding-left:16px;height:35px;font-size:20px;" name="attr_strmod" value="floor(@{strength}/10)" disabled="true" >
              </td>
              <td class="sheet-stat-column"style="height:25px;border-style: solid none solid none; border-width: 2px 2px 2px 2px;"> 
                <input type="number" class = "sheet-autocalc-box" style="padding-left:17px;height:35px;font-size:20px;" name="attr_endmod" value="floor(@{endurance}/10)" disabled="true"/>
              </td>
              <td class="sheet-stat-column"style="height:25px;border-style: solid solid solid solid; border-width: 2px 2px 2px 2px;"> 
                <input type="number" class = "sheet-autocalc-box" style="padding-left:17px;height:35px;font-size:20px;" name="attr_agimod" value="floor(@{agility}/10)" disabled="true"/>
              </td>
              <td class="sheet-stat-column"style="height:25px;border-style: solid none solid none; border-width: 2px 2px 2px 2px;"> 
                <input type="number" class = "sheet-autocalc-box" style="padding-left:17px;height:35px; font-size:20px;" name="attr_intmod" value="floor(@{intelligence}/10)" disabled="true"/>
              </td>
              <td class="sheet-stat-column"style="height:25px;border-style: solid solid solid solid; border-width: 2px 2px 2px 2px;"> 
                <input type="number" class = "sheet-autocalc-box" style="padding-left:17px;height:35px; font-size:20px;" name="attr_willmod" value="floor(@{willpower}/10)" disabled="true"/>
              </td>
              <td class="sheet-stat-column"style="height:25px;border-style: solid none solid none; border-width: 2px 2px 2px 2px;"> 
                <input type="number" class = "sheet-autocalc-box" style="padding-left:17px;height:35px; font-size:20px;" name="attr_percmod" value="floor(@{perception}/10)" disabled="true"/>
              </td>
              <td class="sheet-stat-column"style="height:25px;border-style: solid none solid solid; border-width: 2px 2px 2px 2px;"> 
                <input type="number" class = "sheet-autocalc-box" style="padding-left:17px;height:35px; font-size:20px;" name="attr_persmod" value="floor(@{personality}/10)" disabled="true"/>
              </td>
              <td class="sheet-stat-column"style="height:25px;border-style: solid solid solid solid; border-width: 2px 2px 2px 2px;border-radius: 0px 0px 8px 0px;"> 
                <input type="number" class = "sheet-autocalc-box" style="padding-left:18px;height:35px; font-size:20px;" name="attr_luckmod" value="floor(@{luck}/10)" disabled="true"/>
              </td>
              <td><p></p></td>
            </tr> 
    </table>
    
    
        
    <input type="hidden" class="sheet-hpmodtoggle" name="attr_hpmodtoggle" />
    <input type="hidden" class="sheet-spmodtoggle" name="attr_spmodtoggle" />
    <input type="hidden" class="sheet-mpmodtoggle" name="attr_mpmodtoggle" />

    <div style = " background:#ebebeb;padding:5px;margin-top:2px;margin-left:5px">
        <table>
            <td style="padding-right:5px;vertical-align:top">
                <table class = "sheet-consume-stat-box"style="padding-top:5px; width:100%">
                    <tr style="height:5px;">
                        <td colspan = "2" style ="border-style: none none solid none;border-width:1px;">
                            <p style = "font-weight:bold;font-size:15px;margin-top:-5px;margin-bottom:0px;text-align:center;vertical-align:top;">Hit Points</p>
                        </td>
                    </tr>
                    <td style ="border-style: none solid none none;border-width:1px;height:2px;">
                        <p style = "font-weight:bold;font-size:15px;padding-top:2px;text-align:center;vertical-align:top;">Max</p>
                         <input type="number" class = "sheet-consume-stat-calc" 
                         style="width:100%;background:white;text-align: center;font-size:15px;font-weight:normal;padding-left:20px;"
                         name="attr_maxhp" value="@{endurance}/2+@{hpmod}" disabled="true" >
                        
                        <div class="sheet-hpmoddiv">
                            <input type="checkbox" name="attr_hpmodtoggle"style="margin-left:-70px;margin-top:-135px;padding:0px;">
                            <div class="sheet-hpmod"style="margin-top:-20px;">
                               <span style = "font-size:12px; vertical-align:top">Mod</span>
                                    <input type="number" class = "sheet-consume-stat-calc" 
                                    style="font-size:12px;width:48%;margin-top:-5px;font-weight:normal;background:white;text-align:center;
                                    border-style: none none none none;height:20px; margin-right:15px"
                                    name="attr_hpmod" value="0" >
                            </div>
                       </div>
                        
                    </td>
                    <td>
                         <p style = "font-weight:bold;font-size:15px;padding-top:2px;text-align:center;vertical-align:top;">Current</p>
                         <input type="number" class = "sheet-consume-stat-calc" 
                         style="font-size:15px;width:100%;padding-left:20px;margin-top:-10px;font-weight:normal;background:white;text-align:center;
                         border-style: none none none none;height:20px;"
                         name="attr_currenthp" value="0" >
                         <div class="sheet-hpmoddiv">
                             <div class="sheet-hpmod"style="margin-top:-1px;">
                                 <span style = "font-size:12px; vertical-align:top">Temp</span>
                                    <input type="number" class = "sheet-consume-stat-calc" 
                                    style="font-size:12px;width:44%;margin-top:-5px;font-weight:normal;background:white;text-align:center;
                                    border-style: none none none none;height:20px; margin-right:15px"
                                    name="attr_temphp" value="0" >
                             
                            </div>
                         </div>
                        
                    </td>
            </table></td>
            <td style="padding-right:2.5px;vertical-align:top">
                <table class = "sheet-consume-stat-box"style="padding-top:5px; width:100%">
                    <tr style="height:5px;">
                        <td colspan = "2" style ="border-style: none none solid none;border-width:1px;">
                            <p style = "font-weight:bold;font-size:15px;margin-top:-5px;margin-bottom:0px;text-align:center;vertical-align:top;">Stamina Points</p>
                        </td>
                    </tr>
                    <td style ="border-style: none solid none none;border-width:1px;height:2px;">
                        <p style = "font-weight:bold;font-size:15px;padding-top:2px;text-align:center;vertical-align:top;">Max</p>
                         <input type="number" class = "sheet-consume-stat-calc" 
                         style="width:100%;background:white;text-align: center;font-size:15px;font-weight:normal;padding-left:20px;"
                         name="attr_maxsp" value="@{endmod}+@{spmod}" disabled="true" >
                        
                        <div class="sheet-spmoddiv">
                            <input type="checkbox" name="attr_spmodtoggle"style="margin-left:-70px;margin-top:-135px;padding:0px;">
                            <div class="sheet-spmod"style="margin-top:-20px;">
                               <span style = "font-size:12px; vertical-align:top">Mod</span>
                                    <input type="number" class = "sheet-consume-stat-calc" 
                                    style="font-size:12px;width:48%;margin-top:-5px;font-weight:normal;background:white;text-align:center;
                                    border-style: none none none none;height:20px; margin-right:15px"
                                    name="attr_spmod" value="0" >
                            </div>
                       </div>
                        
                    </td>
                    <td style ="vertical-align:top;">
                         <p style = "font-weight:bold;font-size:15px;padding-top:2px;text-align:center;vertical-align:top;">Current</p>
                         <input type="number" class = "sheet-consume-stat-calc" 
                         style="font-size:15px;width:100%;padding-left:20px;margin-top:-10px;font-weight:normal;background:white;text-align:center;
                         border-style: none none none none;height:20px;"
                         name="attr_currentsp" value="0">                        
                    </td>
            </table></td>
             <td style="padding-left:2.5px;vertical-align:top">
                <table class = "sheet-consume-stat-box"style="padding-top:5px; width:100%">
                    <tr style="height:5px;">
                        <td colspan = "2" style ="border-style: none none solid none;border-width:1px;">
                            <p style = "font-weight:bold;font-size:15px;margin-top:-5px;margin-bottom:0px;text-align:center;vertical-align:top;">Magicka Points</p>
                        </td>
                    </tr>
                    <td style ="border-style: none solid none none;border-width:1px;height:2px;vertical-align:top;">
                        <p style = "font-weight:bold;font-size:15px;padding-top:2px;text-align:center;vertical-align:top;">Max</p>
                         <input type="number" class = "sheet-consume-stat-calc" 
                         style="width:100%;background:white;text-align: center;font-size:15px;font-weight:normal;padding-left:20px;"
                         name="attr_maxmp" value="@{intelligence}*@{mpmod1}+@{mpmod2}" disabled="true" >
                        
                        <div class="sheet-mpmoddiv">
                            <input type="checkbox" name="attr_mpmodtoggle"style="margin-left:-70px;margin-top:-135px;padding:0px;">
                            <div class="sheet-mpmod"style="margin-top:-20px;display:grid;justify-content:center;gap:0px;width:80px">
                               <span style = "font-size:10px;margin-left:0px; vertical-align:top;">M x</span>
                                    <input type="text" class = "sheet-consume-stat-calc" 
                                    style="font-size:10px;width:18px;margin-top:-5px;font-weight:normal;background:white;text-align:center;
                                    border-style: solid none solid none;height:20px;"
                                    name="attr_mpmod1" value="1" >
                                <span style = "font-size:10px; vertical-align:top">M +</span>
                                    <input type="text" class = "sheet-consume-stat-calc" 
                                    style="font-size:10px;width:18px;margin-top:-5px;font-weight:normal;background:white;text-align:center;
                                    border-style: solid none solid none;height:20px;"
                                    name="attr_mpmod2" value="1" >
                            </div>
                       </div>
                        
                    </td>
                    <td style ="vertical-align:top;">
                         <p style = "font-weight:bold;font-size:15px;padding-top:2px;text-align:center;vertical-align:top;">Current</p>
                         <input type="number" class = "sheet-consume-stat-calc" 
                         style="font-size:15px;width:100%;padding-left:20px;margin-top:-10px;font-weight:normal;background:white;text-align:center;
                         border-style: none none none none;height:20px;"
                         name="attr_currentmp" value="0" >                     
                        
                    </td>
            </table></td>
            <td style="padding-left:5px;vertical-align:top">
                <table class = "sheet-consume-stat-box"style="padding-top:5px; width:100%">
                    <tr style="height:5px;">
                        <td colspan = "2" style ="border-style: none none solid none;border-width:1px;">
                            <p style = "font-weight:bold;font-size:15px;margin-top:-5px;margin-bottom:0px;text-align:center;vertical-align:top;">Luck Points</p>
                        </td>
                    </tr>
                    <td style ="border-style: none solid none none;border-width:1px;height:2px;">
                        <p style = "font-weight:bold;font-size:15px;padding-top:2px;text-align:center;vertical-align:top;">Max</p>
                         <input type="number" class = "sheet-consume-stat-calc" 
                         style="width:100%;background:white;text-align: center;font-size:15px;font-weight:normal;padding-left:20px;"
                         name="attr_maxlp" value="@{luckmod}" disabled="true" >                                                           
                    </td>
                    <td>
                         <p style = "font-weight:bold;font-size:15px;padding-top:2px;text-align:center;vertical-align:top;">Current</p>
                         <input type="number" class = "sheet-consume-stat-calc" 
                         style="font-size:15px;width:100%;padding-left:20px;margin-top:-10px;font-weight:normal;background:white;text-align:center;
                         border-style: none none none none;height:20px;"
                         name="attr_currentlp" value="0" >                       
                    </td>
            </table></td>
        </table>
    </div>
    <div class ="sheet-halfhalf">
        <div class = "sheet-luck-grid"style='margin-bottom:13px;margin-top:3.5px;'>
            <div style = " grid-column: 1 / span 1;vertical-align:bottom;text-align:center;padding-top:8px;padding-right:5px;">
                Lucky #s
            </div>
            <div style = " grid-column: 1 / span 1;">
                <input type="text" name="attr_luck1" class = "sheet-luck-box"value = -1>
            </div>
             <div style = " grid-column: 1 / span 1;">
                <input type="text" name="attr_luck2" class = "sheet-luck-box"value = -1>
            </div>
             <div style = " grid-column: 1 / span 1;">
                <input type="text" name="attr_luck3" class = "sheet-luck-box"value = -1>
            </div>
             <div style = " grid-column: 1 / span 1;">
                <input type="text" name="attr_luck4" class = "sheet-luck-box"value = -1>
            </div>
             <div style = " grid-column: 1 / span 1;">
                <input type="text" name="attr_luck5" class = "sheet-luck-box"value = -1>
            </div>
            <div style = " grid-column: 1 / span 1; vertical-align:bottom;text-align:center;padding-top:8px;padding-right:5px;">
                Unlucky #s
            </div>
            <div style = " grid-column: 1 / span 1;">
                <input type="text" name="attr_unluck1" class = "sheet-luck-box"value = -1>
            </div>
             <div style = " grid-column: 1 / span 1;">
                <input type="text" name="attr_unluck2" class = "sheet-luck-box"value = -1>
            </div>
             <div style = " grid-column: 1 / span 1;">
                <input type="text" name="attr_unluck3" class = "sheet-luck-box"value = -1>
            </div>
             <div style = " grid-column: 1 / span 1;">
                <input type="text" name="attr_unluck4" class = "sheet-luck-box"value = -1>
            </div>
             <div style = " grid-column: 1 / span 1;">
                <input type="text" name="attr_unluck5" class = "sheet-luck-box"value = -1>
            </div>
        </div>
        <div class = 'sheet-active-stat-grid'style='padding-bottom:13px;padding-top:3px'>
            <input type='hidden' class='sheet-tabstoggle' name='attr_sheetTab'  value='character' />
            <input type="hidden" class="sheet-speedmodtoggle" name="attr_speedmodtoggle" />
            <input type="hidden" class="sheet-initmodtoggle" name="attr_initmodtoggle" />
            <div class = 'sheet-active-stat-box1'>
                <input type="number" 
                style="width:100%;height:40px;background:white;text-align: center;font-size:15px;font-weight:bold;padding-left:20px;border-style:none;"
                name="attr_speed" value="@{strmod}+@{agimod}*2+@{speedmod}" disabled="true" >
                <div class="sheet-speedmoddiv">
                    <input type="checkbox" name="attr_speedmodtoggle"style="margin-left:-80%;margin-top:-80px;padding:0px;">
                    <div class="sheet-speedmod"style="margin-top:-20px;">
                        <span style = "font-size:12px; vertical-align:top">Mod</span>
                            <input type="number" class = "sheet-consume-stat-calc" 
                            style="font-size:12px;margin-top:-2px;font-weight:normal;background:white;text-align:center;
                            border-style: none none none none;height:20px;"
                            name="attr_speedmod" value="1" >
                    </div>
                </div>
                <span>Speed</span>
            </div>
            <div class = 'sheet-active-stat-box2'>
                <input type="hidden" name="attr_init"/>
                <input type="number" 
                style="width:100%;height:40px;background:white;text-align: center;font-size:15px;font-weight:bold;padding-left:20px;border-style:none;"
                name="attr_foo_init" value="@{init}" disabled="true" >
               <div class="sheet-initmoddiv">
                    <input type="checkbox" name="attr_initmodtoggle"style="margin-left:-80%;margin-top:-80px;padding:0px;">
                    <div class="sheet-initmod"style="margin-top:-20px;">       
                        <span style="font-size:10px;">N</span>
                        <input type="radio" value=0 name="attr_initmodselect" style="padding:0px;margin:0px;" checked="true">
                        <span style="font-size:10px;">I</span>
                        <input type="radio" value=1 name="attr_initmodselect" style="padding:0px;margin:0px;">
                        <span style="font-size:10px;">P</span>
                        <input type="radio" value=2 name="attr_initmodselect" style="padding:0px;margin:0px;">
                    </div>
                </div>
                <span>Initiative</span>
            </div>
            <div class = 'sheet-active-stat-box3'>
                <input type="number" 
                style="width:100%;height:40px;background:white;text-align: center;font-size:15px;font-weight:bold;padding-left:20px;border-style:none;"
                name="attr_currentap" value=0>
                <span>AP</span>
            </div></div>
        </div>
        <div style="border-style:double none none none;border-width:3px;height:5px;"></div>
    </div>
    <input type="hidden" name="attr_luckrolls"/>

    <div style="width:700px;padding-left:260px;padding-bottom:-5px;margin-top:-17px;background:clear;">
        <button type="action" class="sheet-mid-button" name="act_character" >Character</button>
        <button type="action" class="sheet-mid-button" name="act_journal" >Combat</button>
        <button type="action" class="sheet-mid-button" name="act_configuration" >Spells</button>
    </div>
    <input type="hidden" class = "sheet-tabstoggle" name="attr_sheetTab"/>
    <div class='sheet-character'style="height:600px">
        <div class = "sheet-skills-grid"style="margin-top:5px;">
            <div class = "sheet-skills-grid-name"style = "font-weight:bold;text-align:center;">
                Skills
            </div>
                <div class = "sheet-skills-grid-rank"style = "font-weight:bold;">
                Rank
            </div>
                <div class = "sheet-skills-grid-base"style = "font-weight:bold;">
                Target
            </div>
            <div class = "sheet-skills-grid-name">
                <button class = "sheet-skill-rollbutton" type="roll" style="font-size:13px;height:15px;" value=
                "&{template:check} {{title=Acrobatics}} {{target=[[@{acrotn}+?{Modifier}]]}} @{luckrolls}" 
                name="roll_AcroCheck">Acrobatics</button>
                </div>
            <div class = "sheet-skills-grid-rank">
                <select name="attr_acro" class="sheet-skill-rank"> 
                    <option value="-10">Untrained (-10)</option>
                    <option value="0">Novice (0) (+0)</option>
                    <option value="10">Apprentice (1) (+10)</option>
                    <option value="20">Journeyman(2) (+20)</option>
                    <option value="30">Adept (3) (+30)</option>
                    <option value="40">Expert (4) (+40)</option>
                    <option value="50">Master (5) (+50)</option>
                </select></div>  
            <div class = "sheet-skills-grid-base">
                <input type="hidden" name="attr_acrotn"/>
                <input type="number" 
                style="width:105%;height:100%;background:#ebebeb;text-align:center;vertical-align:bottom; padding:0px;padding-left:15px;border-width:0px;"
                name="attr_foo_tn" value="@{acrotn}" disabled="true" ></div>
            <div class = "sheet-skills-grid-name"><button class = "sheet-skill-rollbutton" type="roll" style="font-size:13px;height:15px;" value=
                "&{template:check} {{title=Alchemy}} {{target=[[@{alchtn}+?{Modifier}]]}} @{luckrolls}" 
                name="roll_AlchCheck">Alchemy</button></div>
            <div class = "sheet-skills-grid-rank">
                <select name="attr_alch" class="sheet-skill-rank"> 
                    <option value="-10">Untrained (-10)</option>
                    <option value="0">Novice (0) (+0)</option>
                    <option value="10">Apprentice (1) (+10)</option>
                    <option value="20">Journeyman(2) (+20)</option>
                    <option value="30">Adept (3) (+30)</option>
                    <option value="40">Expert (4) (+40)</option>
                    <option value="50">Master (5) (+50)</option>
                </select></div>  
            <div class = "sheet-skills-grid-base">
                <input type="hidden" name="attr_alchtn"/>
                <input type="number" 
                style="width:105%;height:100%;background:#ebebeb;text-align:center;vertical-align:bottom; padding:0px;padding-left:15px;border-width:0px;"
                name="attr_foo_tn" value="@{alchtn}" disabled="true" ></div>
            <div class = "sheet-skills-grid-name"><button class = "sheet-skill-rollbutton" type="roll" style="font-size:13px;height:15px;" value=
                "&{template:check} {{title=Alteration}} {{target=[[@{altetn}+?{Modifier}]]}} @{luckrolls}" 
                name="roll_AlteCheck">Alteration</button></div>
            <div class = "sheet-skills-grid-rank">
                <select name="attr_alte" class="sheet-skill-rank"> 
                    <option value="-10">Untrained (-10)</option>
                    <option value="0">Novice (0) (+0)</option>
                    <option value="10">Apprentice (1) (+10)</option>
                    <option value="20">Journeyman(2) (+20)</option>
                    <option value="30">Adept (3) (+30)</option>
                    <option value="40">Expert (4) (+40)</option>
                    <option value="50">Master (5) (+50)</option>
                </select></div>  
            <div class = "sheet-skills-grid-base">
                <input type="hidden" name="attr_altetn"/>
                <input type="number" 
                style="width:105%;height:100%;background:#ebebeb;text-align:center;vertical-align:bottom; padding:0px;padding-left:15px;border-width:0px;"
                name="attr_foo_tn" value="@{altetn}" disabled="true" ></div>
            <div class = "sheet-skills-grid-name"><button class = "sheet-skill-rollbutton" type="roll" style="font-size:13px;height:15px;" value=
                "&{template:check} {{title=Athletics}} {{target=[[@{athltn}+?{Modifier}]]}} @{luckrolls}" 
                name="roll_AthlCheck">Athletics</button></div>
            <div class = "sheet-skills-grid-rank">
                <select name="attr_athl" class="sheet-skill-rank"> 
                    <option value="-10">Untrained (-10)</option>
                    <option value="0">Novice (0) (+0)</option>
                    <option value="10">Apprentice (1) (+10)</option>
                    <option value="20">Journeyman(2) (+20)</option>
                    <option value="30">Adept (3) (+30)</option>
                    <option value="40">Expert (4) (+40)</option>
                    <option value="50">Master (5) (+50)</option>
                </select></div>  
            <div class = "sheet-skills-grid-base">
                <input type="hidden" name="attr_athltn"/>
                <input type="number" 
                style="width:105%;height:100%;background:#ebebeb;text-align:center;vertical-align:bottom; padding:0px;padding-left:15px;border-width:0px;"
                name="attr_foo_tn" value="@{athltn}" disabled="true" ></div>
            <div class = "sheet-skills-grid-name"><button class = "sheet-skill-rollbutton" type="roll" style="font-size:13px;height:15px;" value=
                "&{template:check} {{title=Command}} {{target=[[@{comatn}+?{Modifier}]]}} @{luckrolls}" 
                name="roll_ComaCheck">Command</button></div>
            <div class = "sheet-skills-grid-rank">
                <select name="attr_coma" class="sheet-skill-rank"> 
                    <option value="-10">Untrained (-10)</option>
                    <option value="0">Novice (0) (+0)</option>
                    <option value="10">Apprentice (1) (+10)</option>
                    <option value="20">Journeyman(2) (+20)</option>
                    <option value="30">Adept (3) (+30)</option>
                    <option value="40">Expert (4) (+40)</option>
                    <option value="50">Master (5) (+50)</option>
                </select></div>  
            <div class = "sheet-skills-grid-base">
                <input type="hidden" name="attr_comatn"/>
                <input type="number" 
                style="width:105%;height:100%;background:#ebebeb;text-align:center;vertical-align:bottom; padding:0px;padding-left:15px;border-width:0px;"
                name="attr_foo_tn" value="@{comatn}" disabled="true" ></div>
            <div class = "sheet-skills-grid-name"><button class = "sheet-skill-rollbutton" type="roll" style="font-size:13px;height:15px;" value=
                "&{template:check} {{title=Commerce}} {{target=[[@{cometn}+?{Modifier}]]}} @{luckrolls}" 
                name="roll_ComeCheck">Commerce</button></div>
            <div class = "sheet-skills-grid-rank">
                <select name="attr_come" class="sheet-skill-rank"> 
                    <option value="-10">Untrained (-10)</option>
                    <option value="0">Novice (0) (+0)</option>
                    <option value="10">Apprentice (1) (+10)</option>
                    <option value="20">Journeyman(2) (+20)</option>
                    <option value="30">Adept (3) (+30)</option>
                    <option value="40">Expert (4) (+40)</option>
                    <option value="50">Master (5) (+50)</option>
                </select></div>  
            <div class = "sheet-skills-grid-base">
                <input type="hidden" name="attr_cometn"/>
                <input type="number" 
                style="width:105%;height:100%;background:#ebebeb;text-align:center;vertical-align:bottom; padding:0px;padding-left:15px;border-width:0px;"
                name="attr_foo_tn" value="@{cometn}" disabled="true" ></div>
            <div class = "sheet-skills-grid-name"><button class = "sheet-skill-rollbutton" type="roll" style="font-size:13px;height:15px;" value=
                "&{template:check} {{title=Conjuration}} {{target=[[@{conjtn}+?{Modifier}]]}} @{luckrolls}" 
                name="roll_ConjCheck">Conjuration</button></div>
            <div class = "sheet-skills-grid-rank">
                <select name="attr_conj" class="sheet-skill-rank"> 
                    <option value="-10">Untrained (-10)</option>
                    <option value="0">Novice (0) (+0)</option>
                    <option value="10">Apprentice (1) (+10)</option>
                    <option value="20">Journeyman(2) (+20)</option>
                    <option value="30">Adept (3) (+30)</option>
                    <option value="40">Expert (4) (+40)</option>
                    <option value="50">Master (5) (+50)</option>
                </select></div>  
            <div class = "sheet-skills-grid-base">
                <input type="hidden" name="attr_conjtn"/>
                <input type="number" 
                style="width:105%;height:100%;background:#ebebeb;text-align:center;vertical-align:bottom; padding:0px;padding-left:15px;border-width:0px;"
                name="attr_foo_tn" value="@{conjtn}" disabled="true" ></div>
            <div class = "sheet-skills-grid-name"><button class = "sheet-skill-rollbutton" type="roll" style="font-size:13px;height:15px;" value=
                "&{template:check} {{title=Deceive}} {{target=[[@{decetn}+?{Modifier}]]}} @{luckrolls}" 
                name="roll_DeceCheck">Deceive</button></div>
            <div class = "sheet-skills-grid-rank">
                <select name="attr_dece" class="sheet-skill-rank"> 
                    <option value="-10">Untrained (-10)</option>
                    <option value="0">Novice (0) (+0)</option>
                    <option value="10">Apprentice (1) (+10)</option>
                    <option value="20">Journeyman(2) (+20)</option>
                    <option value="30">Adept (3) (+30)</option>
                    <option value="40">Expert (4) (+40)</option>
                    <option value="50">Master (5) (+50)</option>
                </select></div>  
            <div class = "sheet-skills-grid-base">
                <input type="hidden" name="attr_decetn"/>
                <input type="number" 
                style="width:105%;height:100%;background:#ebebeb;text-align:center;vertical-align:bottom; padding:0px;padding-left:15px;border-width:0px;"
                name="attr_foo_tn" value="@{decetn}" disabled="true" ></div>
            <div class = "sheet-skills-grid-name"><button class = "sheet-skill-rollbutton" type="roll" style="font-size:13px;height:15px;" value=
                "&{template:check} {{title=Destruction}} {{target=[[@{desttn}+?{Modifier}]]}} @{luckrolls}" 
                name="roll_DestCheck">Destruction</button></div>
            <div class = "sheet-skills-grid-rank">
                <select name="attr_dest" class="sheet-skill-rank"> 
                    <option value="-10">Untrained (-10)</option>
                    <option value="0">Novice (0) (+0)</option>
                    <option value="10">Apprentice (1) (+10)</option>
                    <option value="20">Journeyman(2) (+20)</option>
                    <option value="30">Adept (3) (+30)</option>
                    <option value="40">Expert (4) (+40)</option>
                    <option value="50">Master (5) (+50)</option>
                </select></div>  
            <div class = "sheet-skills-grid-base">
                <input type="hidden" name="attr_desttn"/>
                <input type="number" 
                style="width:105%;height:100%;background:#ebebeb;text-align:center;vertical-align:bottom; padding:0px;padding-left:15px;border-width:0px;"
                name="attr_foo_tn" value="@{desttn}" disabled="true" ></div>
            <div class = "sheet-skills-grid-name"><button class = "sheet-skill-rollbutton" type="roll" style="font-size:13px;height:15px;" value=
                "&{template:check} {{title=Enchant}} {{target=[[@{enchtn}+?{Modifier}]]}} @{luckrolls}" 
                name="roll_EnchCheck">Enchant</button></div>
            <div class = "sheet-skills-grid-rank">
                <select name="attr_ench" class="sheet-skill-rank"> 
                    <option value="-10">Untrained (-10)</option>
                    <option value="0">Novice (0) (+0)</option>
                    <option value="10">Apprentice (1) (+10)</option>
                    <option value="20">Journeyman(2) (+20)</option>
                    <option value="30">Adept (3) (+30)</option>
                    <option value="40">Expert (4) (+40)</option>
                    <option value="50">Master (5) (+50)</option>
                </select></div>  
            <div class = "sheet-skills-grid-base">
                <input type="hidden" name="attr_enchtn"/>
                <input type="number" 
                style="width:105%;height:100%;background:#ebebeb;text-align:center;vertical-align:bottom; padding:0px;padding-left:15px;border-width:0px;"
                name="attr_foo_tn" value="@{enchtn}" disabled="true" ></div>
            <div class = "sheet-skills-grid-name"><button class = "sheet-skill-rollbutton" type="roll" style="font-size:13px;height:15px;" value=
            "&{template:check} {{title=Evade}} {{target=[[@{evadtn}+?{Modifier}]]}} @{luckrolls}" 
            name="roll_EvadCheck">Evade</button></div>
            <div class = "sheet-skills-grid-rank">
                <select name="attr_evad" class="sheet-skill-rank"> 
                    <option value="-10">Untrained (-10)</option>
                    <option value="0">Novice (0) (+0)</option>
                    <option value="10">Apprentice (1) (+10)</option>
                    <option value="20">Journeyman(2) (+20)</option>
                    <option value="30">Adept (3) (+30)</option>
                    <option value="40">Expert (4) (+40)</option>
                    <option value="50">Master (5) (+50)</option>
                </select></div>  
            <div class = "sheet-skills-grid-base">
                <input type="hidden" name="attr_evadtn"/>
                <input type="number" 
                style="width:105%;height:100%;background:#ebebeb;text-align:center;vertical-align:bottom; padding:0px;padding-left:15px;border-width:0px;"
                name="attr_foo_tn" value="@{evadtn}" disabled="true" ></div>
            <div class = "sheet-skills-grid-name"><button class = "sheet-skill-rollbutton" type="roll" style="font-size:13px;height:15px;" value=
            "&{template:check} {{title=Illusion}} {{target=[[@{illutn}+?{Modifier}]]}} @{luckrolls}" 
            name="roll_IlluCheck">Illusion</button></div>
            <div class = "sheet-skills-grid-rank">
                <select name="attr_illu" class="sheet-skill-rank"> 
                    <option value="-10">Untrained (-10)</option>
                    <option value="0">Novice (0) (+0)</option>
                    <option value="10">Apprentice (1) (+10)</option>
                    <option value="20">Journeyman(2) (+20)</option>
                    <option value="30">Adept (3) (+30)</option>
                    <option value="40">Expert (4) (+40)</option>
                    <option value="50">Master (5) (+50)</option>
                </select></div>  
            <div class = "sheet-skills-grid-base">
                <input type="hidden" name="attr_illutn"/>
                <input type="number" 
                style="width:105%;height:100%;background:#ebebeb;text-align:center;vertical-align:bottom; padding:0px;padding-left:15px;border-width:0px;"
                name="attr_foo_tn" value="@{illutn}" disabled="true" ></div>
            <div class = "sheet-skills-grid-name"><button class = "sheet-skill-rollbutton" type="roll" style="font-size:13px;height:15px;" value=
            "&{template:check} {{title=Investigate}} {{target=[[@{invetn}+?{Modifier}]]}} @{luckrolls}" 
            name="roll_InveCheck">Investigate</button></div>
            <div class = "sheet-skills-grid-rank">
                <select name="attr_inve" class="sheet-skill-rank"> 
                    <option value="-10">Untrained (-10)</option>
                    <option value="0">Novice (0) (+0)</option>
                    <option value="10">Apprentice (1) (+10)</option>
                    <option value="20">Journeyman(2) (+20)</option>
                    <option value="30">Adept (3) (+30)</option>
                    <option value="40">Expert (4) (+40)</option>
                    <option value="50">Master (5) (+50)</option>
                </select></div>  
            <div class = "sheet-skills-grid-base">
                <input type="hidden" name="attr_invetn"/>
                <input type="number" 
                style="width:105%;height:100%;background:#ebebeb;text-align:center;vertical-align:bottom; padding:0px;padding-left:15px;border-width:0px;"
                name="attr_foo_tn" value="@{invetn}" disabled="true" ></div>
            <div class = "sheet-skills-grid-name"><button class = "sheet-skill-rollbutton" type="roll" style="font-size:13px;height:15px;" value=
            "&{template:check} {{title=Logic}} {{target=[[@{logitn}+?{Modifier}]]}} @{luckrolls}" 
            name="roll_LogiCheck">Logic</button></div>
            <div class = "sheet-skills-grid-rank">
                <select name="attr_logi" class="sheet-skill-rank"> 
                    <option value="-10">Untrained (-10)</option>
                    <option value="0">Novice (0) (+0)</option>
                    <option value="10">Apprentice (1) (+10)</option>
                    <option value="20">Journeyman(2) (+20)</option>
                    <option value="30">Adept (3) (+30)</option>
                    <option value="40">Expert (4) (+40)</option>
                    <option value="50">Master (5) (+50)</option>
                </select></div>  
            <div class = "sheet-skills-grid-base">
                <input type="hidden" name="attr_logitn"/>
                <input type="number" 
                style="width:105%;height:100%;background:#ebebeb;text-align:center;vertical-align:bottom; padding:0px;padding-left:15px;border-width:0px;"
                name="attr_foo_tn" value="@{logitn}" disabled="true" ></div>
            <div class = "sheet-skills-grid-name"><button class = "sheet-skill-rollbutton" type="roll" style="font-size:13px;height:15px;" value=
            "&{template:check} {{title=Lore}} {{target=[[@{loretn}+?{Modifier}]]}} @{luckrolls}" 
            name="roll_LoreCheck">Lore</button></div>
            <div class = "sheet-skills-grid-rank">
                <select name="attr_lore" class="sheet-skill-rank"> 
                    <option value="-10">Untrained (-10)</option>
                    <option value="0">Novice (0) (+0)</option>
                    <option value="10">Apprentice (1) (+10)</option>
                    <option value="20">Journeyman(2) (+20)</option>
                    <option value="30">Adept (3) (+30)</option>
                    <option value="40">Expert (4) (+40)</option>
                    <option value="50">Master (5) (+50)</option>
                </select></div>  
            <div class = "sheet-skills-grid-base">
                <input type="hidden" name="attr_loretn"/>
                <input type="number" 
                style="width:105%;height:100%;background:#ebebeb;text-align:center;vertical-align:bottom; padding:0px;padding-left:15px;border-width:0px;"
                name="attr_foo_tn" value="@{loretn}" disabled="true" ></div>
            <div class = "sheet-skills-grid-name"><button class = "sheet-skill-rollbutton" type="roll" style="font-size:13px;height:15px;" value=
            "&{template:check} {{title=Mysticism}} {{target=[[@{mysttn}+?{Modifier}]]}} @{luckrolls}" 
            name="roll_mystCheck">Mysticism</button></div>
            <div class = "sheet-skills-grid-rank">
                <select name="attr_myst" class="sheet-skill-rank"> 
                    <option value="-10">Untrained (-10)</option>
                    <option value="0">Novice (0) (+0)</option>
                    <option value="10">Apprentice (1) (+10)</option>
                    <option value="20">Journeyman(2) (+20)</option>
                    <option value="30">Adept (3) (+30)</option>
                    <option value="40">Expert (4) (+40)</option>
                    <option value="50">Master (5) (+50)</option>
                </select></div>  
            <div class = "sheet-skills-grid-base">
                <input type="hidden" name="attr_mysttn"/>
                <input type="number" 
                style="width:105%;height:100%;background:#ebebeb;text-align:center;vertical-align:bottom; padding:0px;padding-left:15px;border-width:0px;"
                name="attr_foo_tn" value="@{mysttn}" disabled="true" ></div>
            <div class = "sheet-skills-grid-name"><button class = "sheet-skill-rollbutton" type="roll" style="font-size:13px;height:15px;" value=
            "&{template:check} {{title=Navigation}} {{target=[[@{navitn}+?{Modifier}]]}} @{luckrolls}" 
            name="roll_naviCheck">Navigation</button></div>
            <div class = "sheet-skills-grid-rank">
                <select name="attr_navi" class="sheet-skill-rank"> 
                    <option value="-10">Untrained (-10)</option>
                    <option value="0">Novice (0) (+0)</option>
                    <option value="10">Apprentice (1) (+10)</option>
                    <option value="20">Journeyman(2) (+20)</option>
                    <option value="30">Adept (3) (+30)</option>
                    <option value="40">Expert (4) (+40)</option>
                    <option value="50">Master (5) (+50)</option>
                </select></div>  
            <div class = "sheet-skills-grid-base">
                <input type="hidden" name="attr_navitn"/>
                <input type="number" 
                style="width:105%;height:100%;background:#ebebeb;text-align:center;vertical-align:bottom; padding:0px;padding-left:15px;border-width:0px;"
                name="attr_foo_tn" value="@{navitn}" disabled="true" ></div>
            <div class = "sheet-skills-grid-name"><button class = "sheet-skill-rollbutton" type="roll" style="font-size:13px;height:15px;" value=
            "&{template:check} {{title=Observe}} {{target=[[@{obsetn}+?{Modifier}]]}} @{luckrolls}" 
            name="roll_obseCheck">Observe</button></div>
            <div class = "sheet-skills-grid-rank">
                <select name="attr_obse" class="sheet-skill-rank"> 
                    <option value="-10">Untrained (-10)</option>
                    <option value="0">Novice (0) (+0)</option>
                    <option value="10">Apprentice (1) (+10)</option>
                    <option value="20">Journeyman(2) (+20)</option>
                    <option value="30">Adept (3) (+30)</option>
                    <option value="40">Expert (4) (+40)</option>
                    <option value="50">Master (5) (+50)</option>
                </select></div>  
            <div class = "sheet-skills-grid-base">
                <input type="hidden" name="attr_obsetn"/>
                <input type="number" 
                style="width:105%;height:100%;background:#ebebeb;text-align:center;vertical-align:bottom; padding:0px;padding-left:15px;border-width:0px;"
                name="attr_foo_tn" value="@{obsetn}" disabled="true" ></div>
            <div class = "sheet-skills-grid-name"><button class = "sheet-skill-rollbutton" type="roll" style="font-size:13px;height:15px;" value=
            "&{template:check} {{title=Persuade}} {{target=[[@{prsutn}+?{Modifier}]]}} @{luckrolls}" 
            name="roll_prsuCheck">Persuade</button></div>
            <div class = "sheet-skills-grid-rank">
                <select name="attr_prsu" class="sheet-skill-rank"> 
                    <option value="-10">Untrained (-10)</option>
                    <option value="0">Novice (0) (+0)</option>
                    <option value="10">Apprentice (1) (+10)</option>
                    <option value="20">Journeyman(2) (+20)</option>
                    <option value="30">Adept (3) (+30)</option>
                    <option value="40">Expert (4) (+40)</option>
                    <option value="50">Master (5) (+50)</option>
                </select></div>  
            <div class = "sheet-skills-grid-base">
                <input type="hidden" name="attr_prsutn"/>
                <input type="number" 
                style="width:105%;height:100%;background:#ebebeb;text-align:center;vertical-align:bottom; padding:0px;padding-left:15px;border-width:0px;"
                name="attr_foo_tn" value="@{prsutn}" disabled="true" ></div>
            <div class = "sheet-skills-grid-name"><button class = "sheet-skill-rollbutton" type="roll" style="font-size:13px;height:15px;" value=
            "&{template:check} {{title=Restoration}} {{target=[[@{resttn}+?{Modifier}]]}} @{luckrolls}" 
            name="roll_restCheck">Restoration</button></div>
            <div class = "sheet-skills-grid-rank">
                <select name="attr_rest" class="sheet-skill-rank"> 
                    <option value="-10">Untrained (-10)</option>
                    <option value="0">Novice (0) (+0)</option>
                    <option value="10">Apprentice (1) (+10)</option>
                    <option value="20">Journeyman(2) (+20)</option>
                    <option value="30">Adept (3) (+30)</option>
                    <option value="40">Expert (4) (+40)</option>
                    <option value="50">Master (5) (+50)</option>
                </select></div>  
            <div class = "sheet-skills-grid-base">
                <input type="hidden" name="attr_resttn"/>
                <input type="number" 
                style="width:105%;height:100%;background:#ebebeb;text-align:center;vertical-align:bottom; padding:0px;padding-left:15px;border-width:0px;"
                name="attr_foo_tn" value="@{resttn}" disabled="true" ></div>
            <div class = "sheet-skills-grid-name"><button class = "sheet-skill-rollbutton" type="roll" style="font-size:13px;height:15px;" value=
            "&{template:check} {{title=Ride}} {{target=[[@{ridetn}+?{Modifier}]]}} @{luckrolls}" 
            name="roll_rideCheck">Ride</button></div>
            <div class = "sheet-skills-grid-rank">
                <select name="attr_ride" class="sheet-skill-rank"> 
                    <option value="-10">Untrained (-10)</option>
                    <option value="0">Novice (0) (+0)</option>
                    <option value="10">Apprentice (1) (+10)</option>
                    <option value="20">Journeyman(2) (+20)</option>
                    <option value="30">Adept (3) (+30)</option>
                    <option value="40">Expert (4) (+40)</option>
                    <option value="50">Master (5) (+50)</option>
                </select></div>  
            <div class = "sheet-skills-grid-base">
                <input type="hidden" name="attr_ridetn"/>
                <input type="number" 
                style="width:105%;height:100%;background:#ebebeb;text-align:center;vertical-align:bottom; padding:0px;padding-left:15px;border-width:0px;"
                name="attr_foo_tn" value="@{ridetn}" disabled="true" ></div>
            <div class = "sheet-skills-grid-name"><button class = "sheet-skill-rollbutton" type="roll" style="font-size:13px;height:15px;" value=
            "&{template:check} {{title=Stealth}} {{target=[[@{steatn}+?{Modifier}]]}} @{luckrolls}" 
            name="roll_steaCheck">Stealth</button></div>
            <div class = "sheet-skills-grid-rank">
                <select name="attr_stea" class="sheet-skill-rank"> 
                    <option value="-10">Untrained (-10)</option>
                    <option value="0">Novice (0) (+0)</option>
                    <option value="10">Apprentice (1) (+10)</option>
                    <option value="20">Journeyman(2) (+20)</option>
                    <option value="30">Adept (3) (+30)</option>
                    <option value="40">Expert (4) (+40)</option>
                    <option value="50">Master (5) (+50)</option>
                </select></div>  
            <div class = "sheet-skills-grid-base">
                <input type="hidden" name="attr_steatn"/>
                <input type="number" 
                style="width:105%;height:100%;background:#ebebeb;text-align:center;vertical-align:bottom; padding:0px;padding-left:15px;border-width:0px;"
                name="attr_foo_tn" value="@{steatn}" disabled="true" ></div>
            <div class = "sheet-skills-grid-name"><button class = "sheet-skill-rollbutton" type="roll" style="font-size:13px;height:15px;" value=
            "&{template:check} {{title=Subterfuge}} {{target=[[@{subttn}+?{Modifier}]]}} @{luckrolls}" 
            name="roll_subtCheck">Subterfuge</button></div>
            <div class = "sheet-skills-grid-rank">
                <select name="attr_subt" class="sheet-skill-rank"> 
                    <option value="-10">Untrained (-10)</option>
                    <option value="0">Novice (0) (+0)</option>
                    <option value="10">Apprentice (1) (+10)</option>
                    <option value="20">Journeyman(2) (+20)</option>
                    <option value="30">Adept (3) (+30)</option>
                    <option value="40">Expert (4) (+40)</option>
                    <option value="50">Master (5) (+50)</option>
                </select></div>  
            <div class = "sheet-skills-grid-base">
                <input type="hidden" name="attr_subttn"/>
                <input type="number" 
                style="width:105%;height:100%;background:#ebebeb;text-align:center;vertical-align:bottom; padding:0px;padding-left:15px;border-width:0px;"
                name="attr_foo_tn" value="@{subttn}" disabled="true" ></div>
            <div class = "sheet-skills-grid-name"><button class = "sheet-skill-rollbutton" type="roll" style="font-size:13px;height:15px;" value=
            "&{template:check} {{title=Survival}} {{target=[[@{survtn}+?{Modifier}]]}} @{luckrolls}" 
            name="roll_survCheck">Survival</button></div>
            <div class = "sheet-skills-grid-rank">
                <select name="attr_surv" class="sheet-skill-rank"> 
                    <option value="-10">Untrained (-10)</option>
                    <option value="0">Novice (0) (+0)</option>
                    <option value="10">Apprentice (1) (+10)</option>
                    <option value="20">Journeyman(2) (+20)</option>
                    <option value="30">Adept (3) (+30)</option>
                    <option value="40">Expert (4) (+40)</option>
                    <option value="50">Master (5) (+50)</option>
                </select></div>  
            <div class = "sheet-skills-grid-base">
                <input type="hidden" name="attr_survtn"/>
                <input type="number" 
                style="width:105%;height:100%;background:#ebebeb;text-align:center;vertical-align:bottom; padding:0px;padding-left:15px;border-width:0px;"
                name="attr_foo_tn" value="@{survtn}" disabled="true" ></div>
        </div>
        <div class = ".sheet-right-aligned">
         <div class = "sheet-profs-grid" style="margin:0px;margin-top:5px;margin-bottom:10px;">
            <div class = "sheet-profs-grid-name"style = "font-weight:bold;text-align:center;grid-column: 1 / span 2;">
                Professions
            </div>
                <div class = "sheet-profs-grid-rank"style = "font-weight:bold;">
                Rank
            </div>
             <div class = "sheet-profs-grid-base"style = "font-weight:bold;">
                Target
            </div>
            <fieldset  class = "repeating_professions" style = "grid-column: 1/span 4">
                <div class = "sheet-profs-grid" style="margin:0px;margin-bottom:0px;border:0px">
                <input type="checkbox" class = "sheet-profs-toggle"/>
                <input type="hidden" name="attr_proftn"/>
                <div class = "sheet-profs-grid-name"style="background:none;">
                    <button class = "sheet-skill-rollbutton" type="roll" style="font-size:13px;height:15px;position:relative;z-index:2" value=
                    "&{template:check} {{title=@{profname}}} {{target=[[@{proftn}+?{Modifier|0}]]}} @{luckrolls}" 
                    name="roll_Check"label="Prof"></button>
                    <div class = "sheet-profs-show"style = "margin-top:-20px">
                        <input type="text"  name="attr_profname"value = "New Profession" style="width:100%;text-align:center;border: 0px;background:none;">
                    </div>
                </div>
                <div class = "sheet-profs-grid-rank">
                    <select name="attr_prof" class="sheet-skill-rank"> 
                        <option value="-10" selected="selected">Untrained (-10)</option>
                        <option value="0">Novice (0) (+0)</option>
                        <option value="10">Apprentice (1) (+10)</option>
                        <option value="20">Journeyman(2) (+20)</option>
                        <option value="30">Adept (3) (+30)</option>
                        <option value="40">Expert (4) (+40)</option>
                        <option value="50">Master (5) (+50)</option>
                    </select></div>  
                <div class = "sheet-profs-grid-base">
                <input type="number" 
                style="width:105%;height:100%;background:#ebebeb;text-align:center;vertical-align:bottom; padding:0px;padding-left:8px;border-width:0px;"
                name="attr_foo_tn" value="@{proftn}" disabled="true" ></div>
                <div class = "sheet-profs-hide" style="">
                    <div class = "sheet-profs-grid-name"style = "border:0px;grid-column: 1 / span 2; margin-left:10px;">
                        Characteristic:
                    </div>
                    <div class = "sheet-profs-grid-rank"style = "border:0px;grid-column: 3 / span 1;">
                    <select name="attr_profchar" class="sheet-skill-rank" style="text-align:center"> 
                        <option value="strength" selected="selected">Strength</option>
                        <option value="endurance">Endurance</option>
                        <option value="agility">Agility</option>
                        <option value="intelligence">Intelligence</option>
                        <option value="willpower">Willpower</option>
                        <option value="perception">Perception</option>
                        <option value="personality">Personality</option>
                    </select></div>  
                </div>
                </div>
            </fieldset>
            </div>
        </div>
        <div class = "sheet-traits-grid"style="margin-top:0px;">
            <div class = "sheet-skills-grid-name"style = "font-weight:bold;text-align:center;">
                Traits
            </div>            
            <fieldset  class = "repeating_traits">
                <div class = "sheet-trait-int-grid">
                    <input type="checkbox" class = "sheet-traits-toggle"/>
                    <input type="text" class = "sheet-traits-name" name="attr_traitname" value="Trait Name"/>
                    <div class = "sheet-traits-hide">
                        <textarea class = "sheet-traits-desc" name="attr_traitdesc" value="Trait Description"> </textarea>
                    </div>
                </div>
            </fieldset >
        </div> 
        <div class = "sheet-traits-grid"style="margin-top:5px;">
            <div class = "sheet-skills-grid-name"style = "font-weight:bold;text-align:center;">
                Talents
            </div>            
            <fieldset  class = "repeating_talents" >
                <div class = "sheet-trait-int-grid" >
                    <input type="checkbox" class = "sheet-traits-toggle"/>
                    <input type="text" class = "sheet-traits-name" name="attr_talentname" value="Talent Name"/>
                    <div class = "sheet-traits-hide">
                        <input type="text" class = "sheet-traits-name" style="font-size:12px;margin-left:5%" name="attr_talentreq" value="Talent Requirements"/>
                        <textarea class = "sheet-traits-desc" name="attr_talentdesc" value="Talent Description"> </textarea>
                    </div>
                </div>
            </fieldset >
        </div>
    </div>
   
    <div class='sheet-journal'>
        <div class ="sheet-halfhalf">
            <div class="sheet-combat-health-grid">
            <img class = "sheet-combat-body-image" src="https://raw.githubusercontent.com/LiamPotter/Unofficial-Elder-Scrolls-RPG/master/body.png">
                <div>
                </div>
            </div>
        </div>
    </div>
    <div class='sheet-config'>
        <h2>Spells</h2>
        <span>Spells go here</span> 
    </div>
</div>

<rolltemplate class="sheet-rolltemplate-check">
    <div class = "sheet-rolltemplate-check-container">
        <div class ="sheet-rolltemplate-check-header">
            {{#title}}<div class="sheet-rolltemplate-check-title">{{title}}</div>{{/title}}
            {{#subtitle}}<div class="sheet-rolltemplate-check-subtitle">{{subtitle}}</div>{{/subtitle}}
        </div>
        <div class = "sheet-rolltemplate-check-content">
            {{#allprops() title subtitle dos}}
                <div class="sheet-rolltemplate-check-key">{{key}}</div>
                <div class="sheet-rolltemplate-check-value  " >{{value}}</div>
            {{/allprops() title subtitle dos}}

            {{#rollLess() result target}}
                <div class="sheet-rolltemplate-check-crit">Passed!</div>               
            {{/rollLess() result target}}
            
            {{#rollGreater() result target}}
                <div class="sheet-rolltemplate-check-fumble">Failed!</div>
            {{/rollGreater() result target}}

            {{#rollWasCrit() result}}
                <div class="sheet-rolltemplate-check-crit">Critical Success!</div>
            {{/rollWasCrit() result}}
            
            {{#rollWasFumble() result}}
                <div class="sheet-rolltemplate-check-fumble">Critical Failure!</div>
            {{/rollWasFumble() result}}
        </div>
    </div>
</rolltemplate>



<script type="text/worker">
    const buttonlist = ["character","journal","configuration"];
    buttonlist.forEach(button => {
        on(`clicked:${button}`, function() {        
            setAttrs({
                sheetTab: button
            });
        });
    });

     on("change:repeating_professions:profchar change:repeating_professions:prof change:repeating_professions:profname", function() {
        getAttrs(["repeating_professions_profchar", "repeating_professions_prof"], function(values) 
        {
            getAttrs([values.repeating_professions_profchar], function(secvals) 
            {
                let char = parseInt(secvals[values.repeating_professions_profchar]);
                let newtn = char + parseInt(values.repeating_professions_prof);
              setAttrs({
                repeating_professions_proftn:newtn
              });
           });
       });
    });

    on("change:initmodselect change:agility change:intelligence change:perception", function(eventInfo)
    {
        getAttrs(["initmodselect","agility","intelligence","perception"],function(values)
        {
            let select = parseInt(values.initmodselect);
            let returnInit = 0;
            if(select==0)
            {
                returnInit = Math.floor(values.agility/10)+Math.floor(values.intelligence/10)+Math.floor(values.perception/10);
            }
            if(select==1)
            {
                returnInit = Math.floor(values.intelligence/10)*3;
            }
            if(select==2)
            {
                returnInit = Math.floor(values.perception/10)*3;
            }
            setAttrs({
               init:returnInit,
            });
        });
    });

    on("sheet:opened", function(eventInfo)
    {
        setAttrs({
            luckrolls:"{{result=[[1d100cs@{luck1}cs@{luck2}cs@{luck3}cs@{luck4}cs@{luck5}cf@{unluck1}cf@{unluck2}cf@{unluck3}cf@{unluck4}cf@{unluck5}]]}} "
		});
	});

    const stats=["strength","endurance","agility","intelligence","willpower","perception","personality","luck"];
    console.log("before skills");
    const skills={
        acro:["strength","agility"],
        alch:["intelligence"],
        alte:["willpower"],
        athl:["strength","endurance"],
        coma:["strength","intelligence","personality"],
        come:["intelligence","personality"],
        conj:["willpower"],
        dece:["intelligence","personality"],
        dest:["willpower"],
        ench:["intelligence"],
        evad:["agility"],
        illu:["willpower"],
        inve:["intelligence","perception"],
        logi:["intelligence","perception"],
        lore:["intelligence"],
        myst:["willpower"],
        navi:["intelligence","perception"],
        obse:["perception"],
        prsu:["strength","personality"],
        rest:["willpower"],
        ride:["agility"],
        stea:["agility","perception"],
        subt:["agility","intelligence"],
        surv:["intelligence","perception"]
	};
    console.log("before object loop");
    Object.entries(skills).forEach(function([skill,stat])
    {
        let changeSkill='change:'+skill;
        on(changeSkill, ()=>
        {
            skillsUpdate(skill,stat);
		});
        stat.forEach(function(s)
        {
            let changeStat = 'change:'+s;
            on(changeStat, ()=>
            {
                skillsUpdate(skill,stat);
		    });
		});
	});

    function skillsUpdate(skill,stat)
    {
        console.log("update "+skill +". assigned stats:"+stat.length);
        let tempstat1="";
        let tempstat2="";
        let tempstat3="";
        switch(stat.length)
        {
            case 3:
                tempstat1=stat[0];
                tempstat2=stat[1];
                tempstat3=stat[2];
                updateTargetNumber3(skill,tempstat1,tempstat2,tempstat3);
            break;
            case 2:
                tempstat1=stat[0];
                tempstat2=stat[1];
                updateTargetNumber2(skill,tempstat1,tempstat2);
            break;
            case 1:
                tempstat1=stat[0];
                updateTargetNumber1(skill,tempstat1);
            break;
            case 0:
                console.log(skill+" has no stats to use!");
            break;
		}
	}

    function updateTargetNumber3(skill,stat1,stat2,stat3)
    {
        getAttrs([skill,stat1,stat2,stat3],function(values)
        {
            let att1 = parseInt(values[stat1]);
            let att2 = parseInt(values[stat2]);
            let att3 = parseInt(values[stat3]);
            let higherstat = Math.max(att1,att2,att3);
            let newnumber = higherstat+parseInt(values[skill]);
            setAttrs({
                [skill +'tn']:newnumber
            });
		});
	};
    function updateTargetNumber2(skill,stat1,stat2)
    {
        getAttrs([skill,stat1,stat2],function(values)
        {
            let att1 = parseInt(values[stat1]);
            let att2 = parseInt(values[stat2]);
            let higherstat = Math.max(att1,att2);
            let newnumber = higherstat+parseInt(values[skill]);
            setAttrs({
                [skill +'tn']:newnumber
            });
		});
	};
    function updateTargetNumber1(skill,stat1)
    {
        getAttrs([skill,stat1],function(values)
        {
            let att1 = parseInt(values[stat1]);
            let higherstat = att1;
            let newnumber = higherstat+parseInt(values[skill]);
            setAttrs({
                [skill +'tn']:newnumber
            });
		});
	};
   

</script>
