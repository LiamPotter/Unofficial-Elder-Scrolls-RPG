<div class="sheet-row" style = "width:750px;margin-left:5px;margin-top:-20px; margin-right:5px; background:white">
    <table style:"width:750px;">
        <th>
            <td class="sheet-bottom-border" style="margin-bottom:-60px;height:90px;width:750px;">
                <table>
                    <tr> 
                    <img src="https://raw.githubusercontent.com/LiamPotter/Unofficial-Elder-Scrolls-RPG/master/ESO-LogoBlack.png">
                    <p class="sheet-underheading" style="margin-left:-5px;padding-top:55px;white-space:nowrap;">Character Name</p>
                    <input type="text" name="attr_name"  
                    style="color:black;margin-left:-140px;margin-right:25px;height:25px;width: 190px;border-radius: 8px 0px 0px 0px;;
                    border-style:none none solid none;font-size:18px;margin-top:30px;vertical-align:bottom;"/>
                    </tr>
                </table>
                <table  style="vertical-align: top;margin-left:-10px;margin-right:20px;width:600px;height:80px;">
                     <tr>
                        <td> <p class="sheet-underheading" style="padding-right:5px;">Race</p></td>
                     <td style = "width:155px">
                        <input type="text" name="attr_race"  
                        style="color:black;width: 100%;border-style:none none solid none;font-size:15px;padding-bottom:-1px;border-radius: 0px 0px 0px 0px;"/>
                     </td>
                     <td >
                        <p class="sheet-underheading" style="padding-right:5px;margin-left:-35px;width:100px">Total XP</p>
                     </td>
                     <td>
                        <input type="text" name="attr_totalxp"  
                        style="color:black;width: 33%;border-style:none none solid none;font-size:15px;padding-bottom:-1px;border-radius: 0px 0px 0px 0px;"/>
                     </td>
                     <td>
                        <p class="sheet-underheading" style="padding-right:5px;margin-left:-145px;width:100px;">Current XP</p>
                     </td>
                     <td>
                        <input type="text" name="attr_xp"  
                        style="color:black;width: 43%;margin-left:-40px;border-style:none none solid none;font-size:15px;padding-bottom:-1px;border-radius: 0px 0px 0px 0px;"/>
                     </td>
                     </tr>
                     <tr>
                        <td> <p class="sheet-underheading" style="padding-right:5px;">Birthsign</p></td>
                     <td>
                        <input type="text" name="attr_birthsign"  
                        style="color:black;width: 100%;border-style:none none solid none;font-size:15px;padding-bottom:-1px;border-radius: 0px 0px 0px 0px;"/>
                     </td>
                        <td> <p class="sheet-underheading" style="padding-right:5px;padding-left:5px;">Elite Adv.</p></td>
                     <td>
                        <input type="text" name="attr_eliteadvance"  
                        style="color:black;width: 112.5%;border-style:none none solid none;font-size:15px;padding-bottom:-1px;border-radius: 0px 0px 0px 0px;"/>
                     </td>
                     </tr>
                </table>
            </td>
        </th>
        </table>
    
    <table style="vertical-align: top; margin-top:5px;margin-left:0px;width:99%;border-collapse:separate;">
            <tr>
                <td style=""></td>
                <td class="sheet-stat-column" style="font-weight: bold;padding-top:0px;border-style: solid solid none solid; border-width: 2px 2px 2px 2px;border-radius: 8px 0px 0px 0px;">
                    <button class = "sheet-stat-rollbutton" type="roll" style="font-size:10px;height:10px;vertical-align:top;margin-top:-3px;" 
                    value="&{template:check} {{title=Strength}} {{target=[[@{strength}+?{Modifier}]]}} @{luckrolls}" name="roll_StrCheck">Strength</button>
                </td>
                <td class="sheet-stat-column"style="font-weight: bold;padding-top:2px;border-style: solid none none none; border-width: 2px 2px 2px 2px;">
                    <button class = "sheet-stat-rollbutton" type="roll" style="font-size:10px;height:10px;vertical-align:top;margin-top:-4px;" 
                    value="&{template:check} {{title=Endurance}} {{target=[[@{endurance}+?{Modifier}]]}} @{luckrolls}" name="roll_EndCheck">Endurance</button>
                </td>
                <td class="sheet-stat-column"style="font-weight: bold;padding-top:2px;border-style: solid solid none solid; border-width: 2px 2px 2px 2px;">
                    <button class = "sheet-stat-rollbutton" type="roll" style="font-size:10px;height:10px;vertical-align:top;margin-top:-4px;" 
                    value="&{template:check} {{title=Agility}} {{target=[[@{agility}+?{Modifier}]]}} @{luckrolls}" name="roll_AgiCheck">Agility</button>
                </td>
                <td class="sheet-stat-column"style="font-weight: bold;padding-top:2px;border-style: solid none none none; border-width: 2px 2px 2px 2px;">
                    <button class = "sheet-stat-rollbutton" type="roll" style="font-size:10px;height:10px;vertical-align:top;margin-top:-4px;" 
                    value="&{template:check} {{title=Intelligence}} {{target=[[@{intelligence}+?{Modifier}]]}} @{luckrolls}" name="roll_IntCheck">Intelligence</button>
                </td>
                <td class="sheet-stat-column"style="font-weight: bold;padding-top:2px;border-style: solid solid none solid; border-width: 2px 2px 1px 1px;">
                    <button class = "sheet-stat-rollbutton" type="roll" style="font-size:10px;height:10px;vertical-align:top;margin-top:-4px;" 
                    value="&{template:check} {{title=Willpower}} {{target=[[@{willpower}+?{Modifier}]]}} @{luckrolls}" name="roll_IntCheck">Willpower</button>
                </td>
                <td class="sheet-stat-column"style="font-weight: bold;padding-top:2px;border-style: solid none none none; border-width: 2px 2px 2px 2px;">
                    <button class = "sheet-stat-rollbutton" type="roll" style="font-size:10px;height:10px;vertical-align:top;margin-top:-4px;" 
                    value="&{template:check} {{title=Perception}} {{target=[[@{perception}+?{Modifier}]]}} @{luckrolls}" name="roll_PercCheck">Perception</button>
                </td>
                <td class="sheet-stat-column"style="font-weight: bold;padding-top:2px;border-style: solid none none solid; border-width: 2px 2px 2px 2px;">
                     <button class = "sheet-stat-rollbutton" type="roll" style="font-size:10px;height:10px;vertical-align:top;margin-top:-4px;" 
                    value="&{template:check} {{title=Personality}} {{target=[[@{personality}+?{Modifier}]]}} @{luckrolls}" name="roll_PercCheck">Personality</button>
                </td>
                <td class="sheet-stat-column"style="font-weight: bold;padding-top:2px;border-style: solid solid none solid;border-width: 2px 2px 2px 2px;border-radius: 0px 8px 0px 0px;">
                    <button class = "sheet-stat-rollbutton" type="roll" style="font-size:10px;height:10px;vertical-align:top;margin-top:-4px;" 
                    value="&{template:check} {{title=Luck}} {{target=[[@{luck}+?{Modifier}]]}} @{luckrolls}" name="roll_LuckCheck">Luck</button>
                </td>
            </tr>
            <tr>
                <td class="sheet-stat-column-noncase" style="text-align:right;padding-right:5px;background:white;">Total</td>
                <td class="sheet-stat-column" style="border-style: none solid none solid; border-width: 2px 2px 2px 2px;">
                    <input type="text" name="attr_strength" class = "sheet-stat-box"style=""/>
                </td>
                <td class="sheet-stat-column">
                    <input type="text" name="attr_endurance" class = "sheet-stat-box"style=""/>
                </td>
                <td class="sheet-stat-column"style="border-style: none solid none solid; border-width: 2px 2px 2px 2px;">
                    <input type="text" name="attr_agility" class = "sheet-stat-box"style=""/>
                </td>
                <td class="sheet-stat-column">
                    <input type="text" name="attr_intelligence" class = "sheet-stat-box"style=""/>
                </td>
                <td class="sheet-stat-column"style="border-style: none solid none solid; border-width: 2px 2px 2px 2px;">
                    <input type="text" name="attr_willpower" class = "sheet-stat-box"style=""/>
                </td>
                <td class="sheet-stat-column">
                    <input type="text" name="attr_perception" class = "sheet-stat-box"style=""/>
                </td>
                <td class="sheet-stat-column"style="border-style: none none none solid; border-width: 2px 2px 2px 2px;">
                    <input type="text" name="attr_personality" class = "sheet-stat-box"style=""/>
                </td>
                <td class="sheet-stat-column"style="border-style: none solid none solid; border-width: 2px 2px 2px 2px;">
                    <input type="text" name="attr_luck" class = "sheet-stat-box"/>
                </td>
            </tr>
             <tr>
                  <td class="sheet-stat-column-noncase"style="text-align:right;padding-right:5px;background:white;">Favored</td>
                  <td class="sheet-stat-column"style="padding-bottom:2px;border-style: none solid none solid; border-width: 2px 2px 2px 2px;">
                  
                  <input type="checkbox" class = "sheet-checkbox" name="attr_fav_strength"/>
  
                  </td>
                   <td class="sheet-stat-column" style ="padding-bottom:2px;">
                      <input type="checkbox" class = "sheet-checkbox" name="attr_fav_endurance"/>
                  </td>
                   <td class="sheet-stat-column"style="padding-bottom:2px;border-style: none solid none solid; border-width: 2px 2px 2px 2px;">
                      <input type="checkbox" class = "sheet-checkbox" name="attr_fav_agility"/>
                  </td>
                   <td class="sheet-stat-column"style ="padding-bottom:2px;">
                      <input type="checkbox" class = "sheet-checkbox" name="attr_fav_intelligence"/>
                  </td>
                   <td class="sheet-stat-column"style="padding-bottom:2px;border-style: none solid none solid; border-width: 2px 2px 2px 2px;">
                      <input type="checkbox" class = "sheet-checkbox" name="attr_fav_willpower"/>
                  </td>
                   <td class="sheet-stat-column"style ="padding-bottom:2px;">
                      <input type="checkbox" class = "sheet-checkbox" name="attr_fav_perception"/>
                  </td>
                   <td class="sheet-stat-column"style="padding-bottom:2px;border-style: none none none solid; border-width: 2px 2px 2px 2px;">
                      <input type="checkbox" class = "sheet-checkbox" name="attr_fav_personality"/>
                  </td>
                  <td style="border-style: none solid none solid; border-width: 1px 2px 1px 1px; background:#ebebeb;  border-color:white;"></td>
                  
            </tr>
            <tr style="padding-top:5px;">
              <td class="sheet-stat-column-noncase"style="text-align:right;height:35px;padding-top:5px;padding-right:5px;background:white;">Bonus</td>
              <td class="sheet-stat-column"style="height:25px;border-style: solid solid solid solid; border-width: 2px 2px 2px 2px;border-radius: 0px 0px 0px 8px;"> 
                <input type="number" class = "sheet-autocalc-box" style="padding-left:16px;height:35px;font-size:20px;" name="attr_strmod" value="floor(@{strength}/10)" disabled="true" >
              </td>
              <td class="sheet-stat-column"style="height:25px;border-style: solid none solid none; border-width: 2px 2px 2px 2px;"> 
                <input type="number" class = "sheet-autocalc-box" style="padding-left:17px;height:35px;font-size:20px;" name="attr_endmod" value="floor(@{endurance}/10)" disabled="true"/>
              </td>
              <td class="sheet-stat-column"style="height:25px;border-style: solid solid solid solid; border-width: 2px 2px 2px 2px;"> 
                <input type="number" class = "sheet-autocalc-box" style="padding-left:17px;height:35px;font-size:20px;" name="attr_agimod" value="floor(@{agility}/10)" disabled="true"/>
              </td>
              <td class="sheet-stat-column"style="height:25px;border-style: solid none solid none; border-width: 2px 2px 2px 2px;"> 
                <input type="number" class = "sheet-autocalc-box" style="padding-left:17px;height:35px; font-size:20px;" name="attr_intmod" value="floor(@{intelligence}/10)" disabled="true"/>
              </td>
              <td class="sheet-stat-column"style="height:25px;border-style: solid solid solid solid; border-width: 2px 2px 2px 2px;"> 
                <input type="number" class = "sheet-autocalc-box" style="padding-left:17px;height:35px; font-size:20px;" name="attr_willmod" value="floor(@{willpower}/10)" disabled="true"/>
              </td>
              <td class="sheet-stat-column"style="height:25px;border-style: solid none solid none; border-width: 2px 2px 2px 2px;"> 
                <input type="number" class = "sheet-autocalc-box" style="padding-left:17px;height:35px; font-size:20px;" name="attr_percmod" value="floor(@{perception}/10)" disabled="true"/>
              </td>
              <td class="sheet-stat-column"style="height:25px;border-style: solid none solid solid; border-width: 2px 2px 2px 2px;"> 
                <input type="number" class = "sheet-autocalc-box" style="padding-left:17px;height:35px; font-size:20px;" name="attr_persmod" value="floor(@{personality}/10)" disabled="true"/>
              </td>
              <td class="sheet-stat-column"style="height:25px;border-style: solid solid solid solid; border-width: 2px 2px 2px 2px;border-radius: 0px 0px 8px 0px;"> 
                <input type="number" class = "sheet-autocalc-box" style="padding-left:18px;height:35px; font-size:20px;" name="attr_luckmod" value="floor(@{luck}/10)" disabled="true"/>
              </td>
              <td><p></p></td>
            </tr> 
    </table>
    
    
        
    <input type="hidden" class="sheet-hpmodtoggle" name="attr_hpmodtoggle" />
    <input type="hidden" class="sheet-spmodtoggle" name="attr_spmodtoggle" />
    <input type="hidden" class="sheet-mpmodtoggle" name="attr_mpmodtoggle" />

    <div style = " background:#ebebeb;padding:5px;margin-top:2px;margin-left:5px">
        <table>
            <td style="padding-right:5px;vertical-align:top">
                <table class = "sheet-consume-stat-box"style="padding-top:5px; width:100%">
                    <tr style="height:5px;">
                        <td colspan = "2" style ="border-style: none none solid none;border-width:1px;">
                            <p style = "font-weight:bold;font-size:15px;margin-top:-5px;margin-bottom:0px;text-align:center;vertical-align:top;">Hit Points</p>
                        </td>
                    </tr>
                    <td style ="border-style: none solid none none;border-width:1px;height:2px;">
                        <p style = "font-weight:bold;font-size:15px;padding-top:2px;text-align:center;vertical-align:top;">Max</p>
                         <input type="number" class = "sheet-consume-stat-calc" 
                         style="width:100%;background:white;text-align: center;font-size:15px;font-weight:normal;padding-left:20px;"
                         name="attr_maxhp" value="@{endurance}/2+@{hpmod}" disabled="true" >
                        
                        <div class="sheet-hpmoddiv">
                            <input type="checkbox" name="attr_hpmodtoggle"style="margin-left:-70px;margin-top:-135px;padding:0px;">
                            <div class="sheet-hpmod"style="margin-top:-20px;">
                               <span style = "font-size:12px; vertical-align:top">Mod</span>
                                    <input type="number" class = "sheet-consume-stat-calc" 
                                    style="font-size:12px;width:48%;margin-top:-5px;font-weight:normal;background:white;text-align:center;
                                    border-style: none none none none;height:20px; margin-right:15px"
                                    name="attr_hpmod" value="0" >
                            </div>
                       </div>
                        
                    </td>
                    <td>
                         <p style = "font-weight:bold;font-size:15px;padding-top:2px;text-align:center;vertical-align:top;">Current</p>
                         <input type="number" class = "sheet-consume-stat-calc" 
                         style="font-size:15px;width:100%;padding-left:20px;margin-top:-10px;font-weight:normal;background:white;text-align:center;
                         border-style: none none none none;height:20px;"
                         name="attr_currenthp" value="0" >
                         <div class="sheet-hpmoddiv">
                             <div class="sheet-hpmod"style="margin-top:-1px;">
                                 <span style = "font-size:12px; vertical-align:top">Temp</span>
                                    <input type="number" class = "sheet-consume-stat-calc" 
                                    style="font-size:12px;width:44%;margin-top:-5px;font-weight:normal;background:white;text-align:center;
                                    border-style: none none none none;height:20px; margin-right:15px"
                                    name="attr_temphp" value="0" >
                             
                            </div>
                         </div>
                        
                    </td>
            </table></td>
            <td style="padding-right:2.5px;vertical-align:top">
                <table class = "sheet-consume-stat-box"style="padding-top:5px; width:100%">
                    <tr style="height:5px;">
                        <td colspan = "2" style ="border-style: none none solid none;border-width:1px;">
                            <p style = "font-weight:bold;font-size:15px;margin-top:-5px;margin-bottom:0px;text-align:center;vertical-align:top;">Stamina Points</p>
                        </td>
                    </tr>
                    <td style ="border-style: none solid none none;border-width:1px;height:2px;">
                        <p style = "font-weight:bold;font-size:15px;padding-top:2px;text-align:center;vertical-align:top;">Max</p>
                         <input type="number" class = "sheet-consume-stat-calc" 
                         style="width:100%;background:white;text-align: center;font-size:15px;font-weight:normal;padding-left:20px;"
                         name="attr_maxsp" value="@{endmod}+@{spmod}" disabled="true" >
                        
                        <div class="sheet-spmoddiv">
                            <input type="checkbox" name="attr_spmodtoggle"style="margin-left:-70px;margin-top:-135px;padding:0px;">
                            <div class="sheet-spmod"style="margin-top:-20px;">
                               <span style = "font-size:12px; vertical-align:top">Mod</span>
                                    <input type="number" class = "sheet-consume-stat-calc" 
                                    style="font-size:12px;width:48%;margin-top:-5px;font-weight:normal;background:white;text-align:center;
                                    border-style: none none none none;height:20px; margin-right:15px"
                                    name="attr_spmod" value="0" >
                            </div>
                       </div>
                        
                    </td>
                    <td style ="vertical-align:top;">
                         <p style = "font-weight:bold;font-size:15px;padding-top:2px;text-align:center;vertical-align:top;">Current</p>
                         <input type="number" class = "sheet-consume-stat-calc" 
                         style="font-size:15px;width:100%;padding-left:20px;margin-top:-10px;font-weight:normal;background:white;text-align:center;
                         border-style: none none none none;height:20px;"
                         name="attr_currentsp" value="0">                        
                    </td>
            </table></td>
             <td style="padding-left:2.5px;vertical-align:top">
                <table class = "sheet-consume-stat-box"style="padding-top:5px; width:100%">
                    <tr style="height:5px;">
                        <td colspan = "2" style ="border-style: none none solid none;border-width:1px;">
                            <p style = "font-weight:bold;font-size:15px;margin-top:-5px;margin-bottom:0px;text-align:center;vertical-align:top;">Magicka Points</p>
                        </td>
                    </tr>
                    <td style ="border-style: none solid none none;border-width:1px;height:2px;vertical-align:top;">
                        <p style = "font-weight:bold;font-size:15px;padding-top:2px;text-align:center;vertical-align:top;">Max</p>
                         <input type="number" class = "sheet-consume-stat-calc" 
                         style="width:100%;background:white;text-align: center;font-size:15px;font-weight:normal;padding-left:20px;"
                         name="attr_maxmp" value="@{intelligence}*@{mpmod1}+@{mpmod2}" disabled="true" >
                        
                        <div class="sheet-mpmoddiv">
                            <input type="checkbox" name="attr_mpmodtoggle"style="margin-left:-70px;margin-top:-135px;padding:0px;">
                            <div class="sheet-mpmod"style="margin-top:-20px;display:grid;justify-content:center;gap:0px;width:80px">
                               <span style = "font-size:10px;margin-left:0px; vertical-align:top;">M x</span>
                                    <input type="text" class = "sheet-consume-stat-calc" 
                                    style="font-size:10px;width:18px;margin-top:-5px;font-weight:normal;background:white;text-align:center;
                                    border-style: solid none solid none;height:20px;"
                                    name="attr_mpmod1" value="1" >
                                <span style = "font-size:10px; vertical-align:top">M +</span>
                                    <input type="text" class = "sheet-consume-stat-calc" 
                                    style="font-size:10px;width:18px;margin-top:-5px;font-weight:normal;background:white;text-align:center;
                                    border-style: solid none solid none;height:20px;"
                                    name="attr_mpmod2" value="1" >
                            </div>
                       </div>
                        
                    </td>
                    <td style ="vertical-align:top;">
                         <p style = "font-weight:bold;font-size:15px;padding-top:2px;text-align:center;vertical-align:top;">Current</p>
                         <input type="number" class = "sheet-consume-stat-calc" 
                         style="font-size:15px;width:100%;padding-left:20px;margin-top:-10px;font-weight:normal;background:white;text-align:center;
                         border-style: none none none none;height:20px;"
                         name="attr_currentmp" value="0" >                     
                        
                    </td>
            </table></td>
            <td style="padding-left:5px;vertical-align:top">
                <table class = "sheet-consume-stat-box"style="padding-top:5px; width:100%">
                    <tr style="height:5px;">
                        <td colspan = "2" style ="border-style: none none solid none;border-width:1px;">
                            <p style = "font-weight:bold;font-size:15px;margin-top:-5px;margin-bottom:0px;text-align:center;vertical-align:top;">Luck Points</p>
                        </td>
                    </tr>
                    <td style ="border-style: none solid none none;border-width:1px;height:2px;">
                        <p style = "font-weight:bold;font-size:15px;padding-top:2px;text-align:center;vertical-align:top;">Max</p>
                         <input type="number" class = "sheet-consume-stat-calc" 
                         style="width:100%;background:white;text-align: center;font-size:15px;font-weight:normal;padding-left:20px;"
                         name="attr_maxlp" value="@{luckmod}" disabled="true" >                                                           
                    </td>
                    <td>
                         <p style = "font-weight:bold;font-size:15px;padding-top:2px;text-align:center;vertical-align:top;">Current</p>
                         <input type="number" class = "sheet-consume-stat-calc" 
                         style="font-size:15px;width:100%;padding-left:20px;margin-top:-10px;font-weight:normal;background:white;text-align:center;
                         border-style: none none none none;height:20px;"
                         name="attr_currentlp" value="0" >                       
                    </td>
            </table></td>
        </table>
    </div>
    <div class ="sheet-halfhalf">
        <div class = "sheet-luck-grid"style='margin-bottom:13px;margin-top:3.5px;'>
            <div style = " grid-column: 1 / span 1;vertical-align:bottom;text-align:center;padding-top:8px;padding-right:5px;">
                Lucky #s
            </div>
            <div style = " grid-column: 1 / span 1;">
                <input type="text" name="attr_luck1" class = "sheet-luck-box"value = -1>
            </div>
             <div style = " grid-column: 1 / span 1;">
                <input type="text" name="attr_luck2" class = "sheet-luck-box"value = -1>
            </div>
             <div style = " grid-column: 1 / span 1;">
                <input type="text" name="attr_luck3" class = "sheet-luck-box"value = -1>
            </div>
             <div style = " grid-column: 1 / span 1;">
                <input type="text" name="attr_luck4" class = "sheet-luck-box"value = -1>
            </div>
             <div style = " grid-column: 1 / span 1;">
                <input type="text" name="attr_luck5" class = "sheet-luck-box"value = -1>
            </div>
            <div style = " grid-column: 1 / span 1; vertical-align:bottom;text-align:center;padding-top:8px;padding-right:5px;">
                Unlucky #s
            </div>
            <div style = " grid-column: 1 / span 1;">
                <input type="text" name="attr_unluck1" class = "sheet-luck-box"value = -1>
            </div>
             <div style = " grid-column: 1 / span 1;">
                <input type="text" name="attr_unluck2" class = "sheet-luck-box"value = -1>
            </div>
             <div style = " grid-column: 1 / span 1;">
                <input type="text" name="attr_unluck3" class = "sheet-luck-box"value = -1>
            </div>
             <div style = " grid-column: 1 / span 1;">
                <input type="text" name="attr_unluck4" class = "sheet-luck-box"value = -1>
            </div>
             <div style = " grid-column: 1 / span 1;">
                <input type="text" name="attr_unluck5" class = "sheet-luck-box"value = -1>
            </div>
        </div>
        <div class = 'sheet-active-stat-grid'style='padding-bottom:13px;padding-top:3px'>
            <input type='hidden' class='sheet-tabstoggle' name='attr_sheetTab'  value='character' />
            <input type="hidden" class="sheet-speedmodtoggle" name="attr_speedmodtoggle" />
            <input type="hidden" class="sheet-initmodtoggle" name="attr_initmodtoggle" />
            <div class = 'sheet-active-stat-box1'>
                <input type="number" 
                style="width:100%;height:40px;background:white;text-align: center;font-size:15px;font-weight:bold;padding-left:20px;border-style:none;"
                name="attr_speed" value="@{strmod}+@{agimod}*2+@{speedmod}" disabled="true" >
                <div class="sheet-speedmoddiv">
                    <input type="checkbox" name="attr_speedmodtoggle"style="margin-left:-80%;margin-top:-80px;padding:0px;">
                    <div class="sheet-speedmod"style="margin-top:-20px;">
                        <span style = "font-size:12px; vertical-align:top">Mod</span>
                            <input type="number" class = "sheet-consume-stat-calc" 
                            style="font-size:12px;margin-top:-2px;font-weight:normal;background:white;text-align:center;
                            border-style: none none none none;height:20px;"
                            name="attr_speedmod" value="1" >
                    </div>
                </div>
                <span>Speed</span>
            </div>
            <div class = 'sheet-active-stat-box2'>
                <input type="hidden" name="attr_init"/>
                <input type="number" 
                style="width:100%;height:40px;background:white;text-align: center;font-size:15px;font-weight:bold;padding-left:20px;border-style:none;"
                name="attr_foo_init" value="@{init}" disabled="true" >
               <div class="sheet-initmoddiv">
                    <input type="checkbox" name="attr_initmodtoggle"style="margin-left:-80%;margin-top:-80px;padding:0px;">
                    <div class="sheet-initmod"style="margin-top:-20px;">       
                        <span style="font-size:10px;">N</span>
                        <input type="radio" value=0 name="attr_initmodselect" style="padding:0px;margin:0px;" checked="true">
                        <span style="font-size:10px;">I</span>
                        <input type="radio" value=1 name="attr_initmodselect" style="padding:0px;margin:0px;">
                        <span style="font-size:10px;">P</span>
                        <input type="radio" value=2 name="attr_initmodselect" style="padding:0px;margin:0px;">
                    </div>
                </div>
                <span>Initiative</span>
            </div>
            <div class = 'sheet-active-stat-box3'>
                <input type="number" 
                style="width:100%;height:40px;background:white;text-align: center;font-size:15px;font-weight:bold;padding-left:20px;border-style:none;"
                name="attr_currentap" value=0>
                <span>AP</span>
            </div></div>
        </div>
        <div style="border-style:double none none none;border-width:3px;height:5px;"></div>
    </div>
    <input type="hidden" name="attr_luckrolls"/>

    <div style="width:700px;padding-left:260px;padding-bottom:-5px;margin-top:-17px;background:clear;">
        <button type="action" class="sheet-mid-button" name="act_character" >Character</button>
        <button type="action" class="sheet-mid-button" name="act_journal" >Combat</button>
        <button type="action" class="sheet-mid-button" name="act_configuration" >Spells</button>
    </div>
    <input type="hidden" class = "sheet-tabstoggle" name="attr_sheetTab"/>
    <div class='sheet-character'>
        <div class = "sheet-skills-grid"style="margin-top:5px;margin-bottom:80px">
            <div class = "sheet-skills-grid-name"style = "font-weight:bold;text-align:center;">
                Skills
            </div>
                <div class = "sheet-skills-grid-rank"style = "font-weight:bold;">
                Rank
            </div>
                <div class = "sheet-skills-grid-base"style = "font-weight:bold;">
                Target
            </div>
            <div class = "sheet-skills-grid-name">
                <button class = "sheet-skill-rollbutton" type="roll" style="font-size:13px;height:15px;" value=
                "&{template:check} {{title=Acrobatics}} {{target=[[@{acrotn}+?{Modifier}]]}} @{luckrolls}" 
                name="roll_AcroCheck">Acrobatics</button>
                </div>
            <div class = "sheet-skills-grid-rank">
                <select name="attr_acro" class="sheet-skill-rank"> 
                    <option value="-10">Untrained (-10)</option>
                    <option value="0">Novice (0) (+0)</option>
                    <option value="10">Apprentice (1) (+10)</option>
                    <option value="20">Journeyman(2) (+20)</option>
                    <option value="30">Adept (3) (+30)</option>
                    <option value="40">Expert (4) (+40)</option>
                    <option value="50">Master (5) (+50)</option>
                </select></div>  
            <div class = "sheet-skills-grid-base">
                <input type="hidden" name="attr_acrotn"/>
                <input type="number" 
                style="width:105%;height:100%;background:#ebebeb;text-align:center;vertical-align:bottom; padding:0px;padding-left:15px;border-width:0px;"
                name="attr_foo_tn" value="@{acrotn}" disabled="true" ></div>
            <div class = "sheet-skills-grid-name"><button class = "sheet-skill-rollbutton" type="roll" style="font-size:13px;height:15px;" value=
                "&{template:check} {{title=Alchemy}} {{target=[[@{alchtn}+?{Modifier}]]}} @{luckrolls}" 
                name="roll_AlchCheck">Alchemy</button></div>
            <div class = "sheet-skills-grid-rank">
                <select name="attr_alch" class="sheet-skill-rank"> 
                    <option value="-10">Untrained (-10)</option>
                    <option value="0">Novice (0) (+0)</option>
                    <option value="10">Apprentice (1) (+10)</option>
                    <option value="20">Journeyman(2) (+20)</option>
                    <option value="30">Adept (3) (+30)</option>
                    <option value="40">Expert (4) (+40)</option>
                    <option value="50">Master (5) (+50)</option>
                </select></div>  
            <div class = "sheet-skills-grid-base">
                <input type="hidden" name="attr_alchtn"/>
                <input type="number" 
                style="width:105%;height:100%;background:#ebebeb;text-align:center;vertical-align:bottom; padding:0px;padding-left:15px;border-width:0px;"
                name="attr_foo_tn" value="@{alchtn}" disabled="true" ></div>
            <div class = "sheet-skills-grid-name"><button class = "sheet-skill-rollbutton" type="roll" style="font-size:13px;height:15px;" value=
                "&{template:check} {{title=Alteration}} {{target=[[@{altetn}+?{Modifier}]]}} @{luckrolls}" 
                name="roll_AlteCheck">Alteration</button></div>
            <div class = "sheet-skills-grid-rank">
                <select name="attr_alte" class="sheet-skill-rank"> 
                    <option value="-10">Untrained (-10)</option>
                    <option value="0">Novice (0) (+0)</option>
                    <option value="10">Apprentice (1) (+10)</option>
                    <option value="20">Journeyman(2) (+20)</option>
                    <option value="30">Adept (3) (+30)</option>
                    <option value="40">Expert (4) (+40)</option>
                    <option value="50">Master (5) (+50)</option>
                </select></div>  
            <div class = "sheet-skills-grid-base">
                <input type="hidden" name="attr_altetn"/>
                <input type="number" 
                style="width:105%;height:100%;background:#ebebeb;text-align:center;vertical-align:bottom; padding:0px;padding-left:15px;border-width:0px;"
                name="attr_foo_tn" value="@{altetn}" disabled="true" ></div>
            <div class = "sheet-skills-grid-name"><button class = "sheet-skill-rollbutton" type="roll" style="font-size:13px;height:15px;" value=
                "&{template:check} {{title=Athletics}} {{target=[[@{athltn}+?{Modifier}]]}} @{luckrolls}" 
                name="roll_AthlCheck">Athletics</button></div>
            <div class = "sheet-skills-grid-rank">
                <select name="attr_athl" class="sheet-skill-rank"> 
                    <option value="-10">Untrained (-10)</option>
                    <option value="0">Novice (0) (+0)</option>
                    <option value="10">Apprentice (1) (+10)</option>
                    <option value="20">Journeyman(2) (+20)</option>
                    <option value="30">Adept (3) (+30)</option>
                    <option value="40">Expert (4) (+40)</option>
                    <option value="50">Master (5) (+50)</option>
                </select></div>  
            <div class = "sheet-skills-grid-base">
                <input type="hidden" name="attr_athltn"/>
                <input type="number" 
                style="width:105%;height:100%;background:#ebebeb;text-align:center;vertical-align:bottom; padding:0px;padding-left:15px;border-width:0px;"
                name="attr_foo_tn" value="@{athltn}" disabled="true" ></div>
            <div class = "sheet-skills-grid-name"><button class = "sheet-skill-rollbutton" type="roll" style="font-size:13px;height:15px;" value=
                "&{template:check} {{title=Command}} {{target=[[@{comatn}+?{Modifier}]]}} @{luckrolls}" 
                name="roll_ComaCheck">Command</button></div>
            <div class = "sheet-skills-grid-rank">
                <select name="attr_coma" class="sheet-skill-rank"> 
                    <option value="-10">Untrained (-10)</option>
                    <option value="0">Novice (0) (+0)</option>
                    <option value="10">Apprentice (1) (+10)</option>
                    <option value="20">Journeyman(2) (+20)</option>
                    <option value="30">Adept (3) (+30)</option>
                    <option value="40">Expert (4) (+40)</option>
                    <option value="50">Master (5) (+50)</option>
                </select></div>  
            <div class = "sheet-skills-grid-base">
                <input type="hidden" name="attr_comatn"/>
                <input type="number" 
                style="width:105%;height:100%;background:#ebebeb;text-align:center;vertical-align:bottom; padding:0px;padding-left:15px;border-width:0px;"
                name="attr_foo_tn" value="@{comatn}" disabled="true" ></div>
            <div class = "sheet-skills-grid-name"><button class = "sheet-skill-rollbutton" type="roll" style="font-size:13px;height:15px;" value=
                "&{template:check} {{title=Commerce}} {{target=[[@{cometn}+?{Modifier}]]}} @{luckrolls}" 
                name="roll_ComeCheck">Commerce</button></div>
            <div class = "sheet-skills-grid-rank">
                <select name="attr_come" class="sheet-skill-rank"> 
                    <option value="-10">Untrained (-10)</option>
                    <option value="0">Novice (0) (+0)</option>
                    <option value="10">Apprentice (1) (+10)</option>
                    <option value="20">Journeyman(2) (+20)</option>
                    <option value="30">Adept (3) (+30)</option>
                    <option value="40">Expert (4) (+40)</option>
                    <option value="50">Master (5) (+50)</option>
                </select></div>  
            <div class = "sheet-skills-grid-base">
                <input type="hidden" name="attr_cometn"/>
                <input type="number" 
                style="width:105%;height:100%;background:#ebebeb;text-align:center;vertical-align:bottom; padding:0px;padding-left:15px;border-width:0px;"
                name="attr_foo_tn" value="@{cometn}" disabled="true" ></div>
            <div class = "sheet-skills-grid-name"><button class = "sheet-skill-rollbutton" type="roll" style="font-size:13px;height:15px;" value=
                "&{template:check} {{title=Conjuration}} {{target=[[@{conjtn}+?{Modifier}]]}} @{luckrolls}" 
                name="roll_ConjCheck">Conjuration</button></div>
            <div class = "sheet-skills-grid-rank">
                <select name="attr_conj" class="sheet-skill-rank"> 
                    <option value="-10">Untrained (-10)</option>
                    <option value="0">Novice (0) (+0)</option>
                    <option value="10">Apprentice (1) (+10)</option>
                    <option value="20">Journeyman(2) (+20)</option>
                    <option value="30">Adept (3) (+30)</option>
                    <option value="40">Expert (4) (+40)</option>
                    <option value="50">Master (5) (+50)</option>
                </select></div>  
            <div class = "sheet-skills-grid-base">
                <input type="hidden" name="attr_conjtn"/>
                <input type="number" 
                style="width:105%;height:100%;background:#ebebeb;text-align:center;vertical-align:bottom; padding:0px;padding-left:15px;border-width:0px;"
                name="attr_foo_tn" value="@{conjtn}" disabled="true" ></div>
            <div class = "sheet-skills-grid-name"><button class = "sheet-skill-rollbutton" type="roll" style="font-size:13px;height:15px;" value=
                "&{template:check} {{title=Deceive}} {{target=[[@{decetn}+?{Modifier}]]}} @{luckrolls}" 
                name="roll_DeceCheck">Deceive</button></div>
            <div class = "sheet-skills-grid-rank">
                <select name="attr_dece" class="sheet-skill-rank"> 
                    <option value="-10">Untrained (-10)</option>
                    <option value="0">Novice (0) (+0)</option>
                    <option value="10">Apprentice (1) (+10)</option>
                    <option value="20">Journeyman(2) (+20)</option>
                    <option value="30">Adept (3) (+30)</option>
                    <option value="40">Expert (4) (+40)</option>
                    <option value="50">Master (5) (+50)</option>
                </select></div>  
            <div class = "sheet-skills-grid-base">
                <input type="hidden" name="attr_decetn"/>
                <input type="number" 
                style="width:105%;height:100%;background:#ebebeb;text-align:center;vertical-align:bottom; padding:0px;padding-left:15px;border-width:0px;"
                name="attr_foo_tn" value="@{decetn}" disabled="true" ></div>
            <div class = "sheet-skills-grid-name"><button class = "sheet-skill-rollbutton" type="roll" style="font-size:13px;height:15px;" value=
                "&{template:check} {{title=Destruction}} {{target=[[@{desttn}+?{Modifier}]]}} @{luckrolls}" 
                name="roll_DestCheck">Destruction</button></div>
            <div class = "sheet-skills-grid-rank">
                <select name="attr_dest" class="sheet-skill-rank"> 
                    <option value="-10">Untrained (-10)</option>
                    <option value="0">Novice (0) (+0)</option>
                    <option value="10">Apprentice (1) (+10)</option>
                    <option value="20">Journeyman(2) (+20)</option>
                    <option value="30">Adept (3) (+30)</option>
                    <option value="40">Expert (4) (+40)</option>
                    <option value="50">Master (5) (+50)</option>
                </select></div>  
            <div class = "sheet-skills-grid-base">
                <input type="hidden" name="attr_desttn"/>
                <input type="number" 
                style="width:105%;height:100%;background:#ebebeb;text-align:center;vertical-align:bottom; padding:0px;padding-left:15px;border-width:0px;"
                name="attr_foo_tn" value="@{desttn}" disabled="true" ></div>
            <div class = "sheet-skills-grid-name"><button class = "sheet-skill-rollbutton" type="roll" style="font-size:13px;height:15px;" value=
                "&{template:check} {{title=Enchant}} {{target=[[@{enchtn}+?{Modifier}]]}} @{luckrolls}" 
                name="roll_EnchCheck">Enchant</button></div>
            <div class = "sheet-skills-grid-rank">
                <select name="attr_ench" class="sheet-skill-rank"> 
                    <option value="-10">Untrained (-10)</option>
                    <option value="0">Novice (0) (+0)</option>
                    <option value="10">Apprentice (1) (+10)</option>
                    <option value="20">Journeyman(2) (+20)</option>
                    <option value="30">Adept (3) (+30)</option>
                    <option value="40">Expert (4) (+40)</option>
                    <option value="50">Master (5) (+50)</option>
                </select></div>  
            <div class = "sheet-skills-grid-base">
                <input type="hidden" name="attr_enchtn"/>
                <input type="number" 
                style="width:105%;height:100%;background:#ebebeb;text-align:center;vertical-align:bottom; padding:0px;padding-left:15px;border-width:0px;"
                name="attr_foo_tn" value="@{enchtn}" disabled="true" ></div>
            <div class = "sheet-skills-grid-name"><button class = "sheet-skill-rollbutton" type="roll" style="font-size:13px;height:15px;" value=
            "&{template:check} {{title=Evade}} {{target=[[@{evadtn}+?{Modifier}]]}} @{luckrolls}" 
            name="roll_EvadCheck">Evade</button></div>
            <div class = "sheet-skills-grid-rank">
                <select name="attr_evad" class="sheet-skill-rank"> 
                    <option value="-10">Untrained (-10)</option>
                    <option value="0">Novice (0) (+0)</option>
                    <option value="10">Apprentice (1) (+10)</option>
                    <option value="20">Journeyman(2) (+20)</option>
                    <option value="30">Adept (3) (+30)</option>
                    <option value="40">Expert (4) (+40)</option>
                    <option value="50">Master (5) (+50)</option>
                </select></div>  
            <div class = "sheet-skills-grid-base">
                <input type="hidden" name="attr_evadtn"/>
                <input type="number" 
                style="width:105%;height:100%;background:#ebebeb;text-align:center;vertical-align:bottom; padding:0px;padding-left:15px;border-width:0px;"
                name="attr_foo_tn" value="@{evadtn}" disabled="true" ></div>
            <div class = "sheet-skills-grid-name"><button class = "sheet-skill-rollbutton" type="roll" style="font-size:13px;height:15px;" value=
            "&{template:check} {{title=Illusion}} {{target=[[@{illutn}+?{Modifier}]]}} @{luckrolls}" 
            name="roll_IlluCheck">Illusion</button></div>
            <div class = "sheet-skills-grid-rank">
                <select name="attr_illu" class="sheet-skill-rank"> 
                    <option value="-10">Untrained (-10)</option>
                    <option value="0">Novice (0) (+0)</option>
                    <option value="10">Apprentice (1) (+10)</option>
                    <option value="20">Journeyman(2) (+20)</option>
                    <option value="30">Adept (3) (+30)</option>
                    <option value="40">Expert (4) (+40)</option>
                    <option value="50">Master (5) (+50)</option>
                </select></div>  
            <div class = "sheet-skills-grid-base">
                <input type="hidden" name="attr_illutn"/>
                <input type="number" 
                style="width:105%;height:100%;background:#ebebeb;text-align:center;vertical-align:bottom; padding:0px;padding-left:15px;border-width:0px;"
                name="attr_foo_tn" value="@{illutn}" disabled="true" ></div>
            <div class = "sheet-skills-grid-name"><button class = "sheet-skill-rollbutton" type="roll" style="font-size:13px;height:15px;" value=
            "&{template:check} {{title=Investigate}} {{target=[[@{invetn}+?{Modifier}]]}} @{luckrolls}" 
            name="roll_InveCheck">Investigate</button></div>
            <div class = "sheet-skills-grid-rank">
                <select name="attr_inve" class="sheet-skill-rank"> 
                    <option value="-10">Untrained (-10)</option>
                    <option value="0">Novice (0) (+0)</option>
                    <option value="10">Apprentice (1) (+10)</option>
                    <option value="20">Journeyman(2) (+20)</option>
                    <option value="30">Adept (3) (+30)</option>
                    <option value="40">Expert (4) (+40)</option>
                    <option value="50">Master (5) (+50)</option>
                </select></div>  
            <div class = "sheet-skills-grid-base">
                <input type="hidden" name="attr_invetn"/>
                <input type="number" 
                style="width:105%;height:100%;background:#ebebeb;text-align:center;vertical-align:bottom; padding:0px;padding-left:15px;border-width:0px;"
                name="attr_foo_tn" value="@{invetn}" disabled="true" ></div>
            <div class = "sheet-skills-grid-name"><button class = "sheet-skill-rollbutton" type="roll" style="font-size:13px;height:15px;" value=
            "&{template:check} {{title=Logic}} {{target=[[@{logitn}+?{Modifier}]]}} @{luckrolls}" 
            name="roll_LogiCheck">Logic</button></div>
            <div class = "sheet-skills-grid-rank">
                <select name="attr_logi" class="sheet-skill-rank"> 
                    <option value="-10">Untrained (-10)</option>
                    <option value="0">Novice (0) (+0)</option>
                    <option value="10">Apprentice (1) (+10)</option>
                    <option value="20">Journeyman(2) (+20)</option>
                    <option value="30">Adept (3) (+30)</option>
                    <option value="40">Expert (4) (+40)</option>
                    <option value="50">Master (5) (+50)</option>
                </select></div>  
            <div class = "sheet-skills-grid-base">
                <input type="hidden" name="attr_logitn"/>
                <input type="number" 
                style="width:105%;height:100%;background:#ebebeb;text-align:center;vertical-align:bottom; padding:0px;padding-left:15px;border-width:0px;"
                name="attr_foo_tn" value="@{logitn}" disabled="true" ></div>
            <div class = "sheet-skills-grid-name"><button class = "sheet-skill-rollbutton" type="roll" style="font-size:13px;height:15px;" value=
            "&{template:check} {{title=Lore}} {{target=[[@{loretn}+?{Modifier}]]}} @{luckrolls}" 
            name="roll_LoreCheck">Lore</button></div>
            <div class = "sheet-skills-grid-rank">
                <select name="attr_lore" class="sheet-skill-rank"> 
                    <option value="-10">Untrained (-10)</option>
                    <option value="0">Novice (0) (+0)</option>
                    <option value="10">Apprentice (1) (+10)</option>
                    <option value="20">Journeyman(2) (+20)</option>
                    <option value="30">Adept (3) (+30)</option>
                    <option value="40">Expert (4) (+40)</option>
                    <option value="50">Master (5) (+50)</option>
                </select></div>  
            <div class = "sheet-skills-grid-base">
                <input type="hidden" name="attr_loretn"/>
                <input type="number" 
                style="width:105%;height:100%;background:#ebebeb;text-align:center;vertical-align:bottom; padding:0px;padding-left:15px;border-width:0px;"
                name="attr_foo_tn" value="@{loretn}" disabled="true" ></div>
            <div class = "sheet-skills-grid-name"><button class = "sheet-skill-rollbutton" type="roll" style="font-size:13px;height:15px;" value=
            "&{template:check} {{title=Mysticism}} {{target=[[@{mysttn}+?{Modifier}]]}} @{luckrolls}" 
            name="roll_mystCheck">Mysticism</button></div>
            <div class = "sheet-skills-grid-rank">
                <select name="attr_myst" class="sheet-skill-rank"> 
                    <option value="-10">Untrained (-10)</option>
                    <option value="0">Novice (0) (+0)</option>
                    <option value="10">Apprentice (1) (+10)</option>
                    <option value="20">Journeyman(2) (+20)</option>
                    <option value="30">Adept (3) (+30)</option>
                    <option value="40">Expert (4) (+40)</option>
                    <option value="50">Master (5) (+50)</option>
                </select></div>  
            <div class = "sheet-skills-grid-base">
                <input type="hidden" name="attr_mysttn"/>
                <input type="number" 
                style="width:105%;height:100%;background:#ebebeb;text-align:center;vertical-align:bottom; padding:0px;padding-left:15px;border-width:0px;"
                name="attr_foo_tn" value="@{mysttn}" disabled="true" ></div>
            <div class = "sheet-skills-grid-name"><button class = "sheet-skill-rollbutton" type="roll" style="font-size:13px;height:15px;" value=
            "&{template:check} {{title=Navigation}} {{target=[[@{navitn}+?{Modifier}]]}} @{luckrolls}" 
            name="roll_naviCheck">Navigation</button></div>
            <div class = "sheet-skills-grid-rank">
                <select name="attr_navi" class="sheet-skill-rank"> 
                    <option value="-10">Untrained (-10)</option>
                    <option value="0">Novice (0) (+0)</option>
                    <option value="10">Apprentice (1) (+10)</option>
                    <option value="20">Journeyman(2) (+20)</option>
                    <option value="30">Adept (3) (+30)</option>
                    <option value="40">Expert (4) (+40)</option>
                    <option value="50">Master (5) (+50)</option>
                </select></div>  
            <div class = "sheet-skills-grid-base">
                <input type="hidden" name="attr_navitn"/>
                <input type="number" 
                style="width:105%;height:100%;background:#ebebeb;text-align:center;vertical-align:bottom; padding:0px;padding-left:15px;border-width:0px;"
                name="attr_foo_tn" value="@{navitn}" disabled="true" ></div>
            <div class = "sheet-skills-grid-name"><button class = "sheet-skill-rollbutton" type="roll" style="font-size:13px;height:15px;" value=
            "&{template:check} {{title=Observe}} {{target=[[@{obsetn}+?{Modifier}]]}} @{luckrolls}" 
            name="roll_obseCheck">Observe</button></div>
            <div class = "sheet-skills-grid-rank">
                <select name="attr_obse" class="sheet-skill-rank"> 
                    <option value="-10">Untrained (-10)</option>
                    <option value="0">Novice (0) (+0)</option>
                    <option value="10">Apprentice (1) (+10)</option>
                    <option value="20">Journeyman(2) (+20)</option>
                    <option value="30">Adept (3) (+30)</option>
                    <option value="40">Expert (4) (+40)</option>
                    <option value="50">Master (5) (+50)</option>
                </select></div>  
            <div class = "sheet-skills-grid-base">
                <input type="hidden" name="attr_obsetn"/>
                <input type="number" 
                style="width:105%;height:100%;background:#ebebeb;text-align:center;vertical-align:bottom; padding:0px;padding-left:15px;border-width:0px;"
                name="attr_foo_tn" value="@{obsetn}" disabled="true" ></div>
            <div class = "sheet-skills-grid-name"><button class = "sheet-skill-rollbutton" type="roll" style="font-size:13px;height:15px;" value=
            "&{template:check} {{title=Persuade}} {{target=[[@{prsutn}+?{Modifier}]]}} @{luckrolls}" 
            name="roll_prsuCheck">Persuade</button></div>
            <div class = "sheet-skills-grid-rank">
                <select name="attr_prsu" class="sheet-skill-rank"> 
                    <option value="-10">Untrained (-10)</option>
                    <option value="0">Novice (0) (+0)</option>
                    <option value="10">Apprentice (1) (+10)</option>
                    <option value="20">Journeyman(2) (+20)</option>
                    <option value="30">Adept (3) (+30)</option>
                    <option value="40">Expert (4) (+40)</option>
                    <option value="50">Master (5) (+50)</option>
                </select></div>  
            <div class = "sheet-skills-grid-base">
                <input type="hidden" name="attr_prsutn"/>
                <input type="number" 
                style="width:105%;height:100%;background:#ebebeb;text-align:center;vertical-align:bottom; padding:0px;padding-left:15px;border-width:0px;"
                name="attr_foo_tn" value="@{prsutn}" disabled="true" ></div>
            <div class = "sheet-skills-grid-name"><button class = "sheet-skill-rollbutton" type="roll" style="font-size:13px;height:15px;" value=
            "&{template:check} {{title=Restoration}} {{target=[[@{resttn}+?{Modifier}]]}} @{luckrolls}" 
            name="roll_restCheck">Restoration</button></div>
            <div class = "sheet-skills-grid-rank">
                <select name="attr_rest" class="sheet-skill-rank"> 
                    <option value="-10">Untrained (-10)</option>
                    <option value="0">Novice (0) (+0)</option>
                    <option value="10">Apprentice (1) (+10)</option>
                    <option value="20">Journeyman(2) (+20)</option>
                    <option value="30">Adept (3) (+30)</option>
                    <option value="40">Expert (4) (+40)</option>
                    <option value="50">Master (5) (+50)</option>
                </select></div>  
            <div class = "sheet-skills-grid-base">
                <input type="hidden" name="attr_resttn"/>
                <input type="number" 
                style="width:105%;height:100%;background:#ebebeb;text-align:center;vertical-align:bottom; padding:0px;padding-left:15px;border-width:0px;"
                name="attr_foo_tn" value="@{resttn}" disabled="true" ></div>
            <div class = "sheet-skills-grid-name"><button class = "sheet-skill-rollbutton" type="roll" style="font-size:13px;height:15px;" value=
            "&{template:check} {{title=Ride}} {{target=[[@{ridetn}+?{Modifier}]]}} @{luckrolls}" 
            name="roll_rideCheck">Ride</button></div>
            <div class = "sheet-skills-grid-rank">
                <select name="attr_ride" class="sheet-skill-rank"> 
                    <option value="-10">Untrained (-10)</option>
                    <option value="0">Novice (0) (+0)</option>
                    <option value="10">Apprentice (1) (+10)</option>
                    <option value="20">Journeyman(2) (+20)</option>
                    <option value="30">Adept (3) (+30)</option>
                    <option value="40">Expert (4) (+40)</option>
                    <option value="50">Master (5) (+50)</option>
                </select></div>  
            <div class = "sheet-skills-grid-base">
                <input type="hidden" name="attr_ridetn"/>
                <input type="number" 
                style="width:105%;height:100%;background:#ebebeb;text-align:center;vertical-align:bottom; padding:0px;padding-left:15px;border-width:0px;"
                name="attr_foo_tn" value="@{ridetn}" disabled="true" ></div>
            <div class = "sheet-skills-grid-name"><button class = "sheet-skill-rollbutton" type="roll" style="font-size:13px;height:15px;" value=
            "&{template:check} {{title=Stealth}} {{target=[[@{steatn}+?{Modifier}]]}} @{luckrolls}" 
            name="roll_steaCheck">Stealth</button></div>
            <div class = "sheet-skills-grid-rank">
                <select name="attr_stea" class="sheet-skill-rank"> 
                    <option value="-10">Untrained (-10)</option>
                    <option value="0">Novice (0) (+0)</option>
                    <option value="10">Apprentice (1) (+10)</option>
                    <option value="20">Journeyman(2) (+20)</option>
                    <option value="30">Adept (3) (+30)</option>
                    <option value="40">Expert (4) (+40)</option>
                    <option value="50">Master (5) (+50)</option>
                </select></div>  
            <div class = "sheet-skills-grid-base">
                <input type="hidden" name="attr_steatn"/>
                <input type="number" 
                style="width:105%;height:100%;background:#ebebeb;text-align:center;vertical-align:bottom; padding:0px;padding-left:15px;border-width:0px;"
                name="attr_foo_tn" value="@{steatn}" disabled="true" ></div>
            <div class = "sheet-skills-grid-name"><button class = "sheet-skill-rollbutton" type="roll" style="font-size:13px;height:15px;" value=
            "&{template:check} {{title=Subterfuge}} {{target=[[@{subttn}+?{Modifier}]]}} @{luckrolls}" 
            name="roll_subtCheck">Subterfuge</button></div>
            <div class = "sheet-skills-grid-rank">
                <select name="attr_subt" class="sheet-skill-rank"> 
                    <option value="-10">Untrained (-10)</option>
                    <option value="0">Novice (0) (+0)</option>
                    <option value="10">Apprentice (1) (+10)</option>
                    <option value="20">Journeyman(2) (+20)</option>
                    <option value="30">Adept (3) (+30)</option>
                    <option value="40">Expert (4) (+40)</option>
                    <option value="50">Master (5) (+50)</option>
                </select></div>  
            <div class = "sheet-skills-grid-base">
                <input type="hidden" name="attr_subttn"/>
                <input type="number" 
                style="width:105%;height:100%;background:#ebebeb;text-align:center;vertical-align:bottom; padding:0px;padding-left:15px;border-width:0px;"
                name="attr_foo_tn" value="@{subttn}" disabled="true" ></div>
            <div class = "sheet-skills-grid-name"><button class = "sheet-skill-rollbutton" type="roll" style="font-size:13px;height:15px;" value=
            "&{template:check} {{title=Survival}} {{target=[[@{survtn}+?{Modifier}]]}} @{luckrolls}" 
            name="roll_survCheck">Survival</button></div>
            <div class = "sheet-skills-grid-rank">
                <select name="attr_surv" class="sheet-skill-rank"> 
                    <option value="-10">Untrained (-10)</option>
                    <option value="0">Novice (0) (+0)</option>
                    <option value="10">Apprentice (1) (+10)</option>
                    <option value="20">Journeyman(2) (+20)</option>
                    <option value="30">Adept (3) (+30)</option>
                    <option value="40">Expert (4) (+40)</option>
                    <option value="50">Master (5) (+50)</option>
                </select></div>  
            <div class = "sheet-skills-grid-base">
                <input type="hidden" name="attr_survtn"/>
                <input type="number" 
                style="width:105%;height:100%;background:#ebebeb;text-align:center;vertical-align:bottom; padding:0px;padding-left:15px;border-width:0px;"
                name="attr_foo_tn" value="@{survtn}" disabled="true" ></div>
        </div>
        <div class = ".sheet-right-aligned">
         <div class = "sheet-profs-grid" style="margin:0px;margin-top:5px;margin-bottom:10px;">
            <div class = "sheet-profs-grid-name"style = "font-weight:bold;text-align:center;grid-column: 1 / span 2;">
                Professions
            </div>
                <div class = "sheet-profs-grid-rank"style = "font-weight:bold;">
                Rank
            </div>
             <div class = "sheet-profs-grid-base"style = "font-weight:bold;">
                Target
            </div>
            <fieldset  class = "repeating_professions" style = "grid-column: 1/span 4">
                <div class = "sheet-profs-grid" style="margin:0px;margin-bottom:0px;border:0px">
                <input type="checkbox" class = "sheet-profs-toggle"/>
                <input type="hidden" name="attr_proftn"/>
                <div class = "sheet-profs-grid-name"style="background:none;">
                    <button class = "sheet-skill-rollbutton" type="roll" style="font-size:13px;height:15px;position:relative;z-index:2" value=
                    "&{template:check} {{title=@{profname}}} {{target=[[@{proftn}+?{Modifier|0}]]}} @{luckrolls}" 
                    name="roll_Check"label="Prof"></button>
                    <div class = "sheet-profs-show"style = "margin-top:-20px">
                        <input type="text"  name="attr_profname"value = "New Profession" style="width:100%;text-align:center;border: 0px;background:none;">
                    </div>
                </div>
                <div class = "sheet-profs-grid-rank">
                    <select name="attr_prof" class="sheet-skill-rank"> 
                        <option value="-10" selected="selected">Untrained (-10)</option>
                        <option value="0">Novice (0) (+0)</option>
                        <option value="10">Apprentice (1) (+10)</option>
                        <option value="20">Journeyman(2) (+20)</option>
                        <option value="30">Adept (3) (+30)</option>
                        <option value="40">Expert (4) (+40)</option>
                        <option value="50">Master (5) (+50)</option>
                    </select></div>  
                <div class = "sheet-profs-grid-base">
                <input type="number" 
                style="width:105%;height:100%;background:#ebebeb;text-align:center;vertical-align:bottom; padding:0px;padding-left:8px;border-width:0px;"
                name="attr_foo_tn" value="@{proftn}" disabled="true" ></div>
                <div class = "sheet-profs-hide" style="">
                    <div class = "sheet-profs-grid-name"style = "border:0px;grid-column: 1 / span 2; margin-left:10px;">
                        Characteristic:
                    </div>
                    <div class = "sheet-profs-grid-rank"style = "border:0px;grid-column: 3 / span 1;">
                    <select name="attr_profchar" class="sheet-skill-rank" style="text-align:center"> 
                        <option value="strength" selected="selected">Strength</option>
                        <option value="endurance">Endurance</option>
                        <option value="agility">Agility</option>
                        <option value="intelligence">Intelligence</option>
                        <option value="willpower">Willpower</option>
                        <option value="perception">Perception</option>
                        <option value="personality">Personality</option>
                    </select></div>  
                </div>
                </div>
            </fieldset>
            </div>
        </div>
        <div class = "sheet-traits-grid"style="margin-top:0px;">
            <div class = "sheet-skills-grid-name"style = "font-weight:bold;text-align:center;">
                Traits
            </div>            
            <fieldset  class = "repeating_traits">
                <div class = "sheet-trait-int-grid">
                    <input type="checkbox" class = "sheet-traits-toggle"/>
                    <input type="text" class = "sheet-traits-name" name="attr_traitname" value="Trait Name"/>
                    <div class = "sheet-traits-hide">
                        <textarea class = "sheet-traits-desc" name="attr_traitdesc" value="Trait Description"> </textarea>
                    </div>
                </div>
            </fieldset >
        </div> 
        <div class = "sheet-traits-grid"style="margin-top:5px;">
            <div class = "sheet-skills-grid-name"style = "font-weight:bold;text-align:center;">
                Talents
            </div>            
            <fieldset  class = "repeating_talents" >
                <div class = "sheet-trait-int-grid" >
                    <input type="checkbox" class = "sheet-traits-toggle"/>
                    <input type="text" class = "sheet-traits-name" name="attr_talentname" value="Talent Name"/>
                    <div class = "sheet-traits-hide">
                        <input type="text" class = "sheet-traits-name" style="font-size:12px;margin-left:5%" name="attr_talentreq" value="Talent Requirements"/>
                        <textarea class = "sheet-traits-desc" name="attr_talentdesc" value="Talent Description"> </textarea>
                    </div>
                </div>
            </fieldset >
        </div>
    </div>
   
    <div class='sheet-journal'>
        
        <div class="sheet-combat-health-grid">
            <span style="font-weight:bold;text-align:left;margin-left:150px;margin-bottom:-10px">Armor</span>
            <img class = "sheet-combat-body-image" src="https://raw.githubusercontent.com/LiamPotter/Unofficial-Elder-Scrolls-RPG/master/dragonborn.png">
               
            <div class="sheet-combat-location"style="left:150px;top:450px">
                <div class = "sheet-combat-location-heading">Head (0)</div>
                <div style="text-align:right;padding:0px;vertical-align:middle;padding-top:1px;padding-right:2px;">
                    <span style="font-weight:bold;text-align:right;font-size:12px">AR:</span>
                </div>
                <div style="padding:0px;">
                    <input type="number" name="attr_arhead" class="sheet-combat-armor-input" style="font-size:12px;"/>
                </div>
                <div style="text-align:right;padding:0px;vertical-align:middle;padding-top:1px;padding-right:2px;">
                    <span style="font-weight:bold;text-align:right;font-size:12px;">ENC:</span>
                </div>
                <div style="padding:0px;">
                    <input type="number" name="attr_enchead" class="sheet-combat-armor-input" style="font-size:12px;"/>
                </div>
                <div style="text-align:right;padding:0px;vertical-align:middle;padding-top:1px;padding-right:2px;">
                    <span style="font-weight:bold;text-align:right;font-size:12px;">Type:</span>
                </div>
                <div style="padding:0px;">
                    <input type="text" name="attr_typehead" class="sheet-combat-armor-input" style="max-width:70px;font-size:12px;"/>
                </div>
            </div>
            <div class="sheet-combat-location"style="left:150px;top:625px">
                <div class = "sheet-combat-location-heading">Body (1-5)</div>
                <div style="text-align:right;padding:0px;vertical-align:middle;padding-top:1px;padding-right:2px;">
                    <span style="font-weight:bold;text-align:right;font-size:12px">AR:</span>
                </div>
                <div style="padding:0px;">
                    <input type="number" name="attr_arbody" class="sheet-combat-armor-input" style="font-size:12px;"/>
                </div>
                <div style="text-align:right;padding:0px;vertical-align:middle;padding-top:1px;padding-right:2px;">
                    <span style="font-weight:bold;text-align:right;font-size:12px;">ENC:</span>
                </div>
                <div style="padding:0px;">
                    <input type="number" name="attr_encbody" class="sheet-combat-armor-input" style="font-size:12px;"/>
                </div>
                <div style="text-align:right;padding:0px;vertical-align:middle;padding-top:1px;padding-right:2px;">
                    <span style="font-weight:bold;text-align:right;font-size:12px;">Type:</span>
                </div>
                <div style="padding:0px;">
                    <input type="text" name="attr_typebody" class="sheet-combat-armor-input" style="max-width:70px;font-size:12px;"/>
                </div>
            </div>
            <div class="sheet-combat-location"style="left:35px;top:540px">
                <div class = "sheet-combat-location-heading">Left Arm (9)</div>
                <div style="text-align:right;padding:0px;vertical-align:middle;padding-top:1px;padding-right:2px;">
                    <span style="font-weight:bold;text-align:right;font-size:12px">AR:</span>
                </div>
                <div style="padding:0px;">
                    <input type="number" name="attr_arlarm" class="sheet-combat-armor-input" style="font-size:12px;"/>
                </div>
                <div style="text-align:right;padding:0px;vertical-align:middle;padding-top:1px;padding-right:2px;">
                    <span style="font-weight:bold;text-align:right;font-size:12px;">ENC:</span>
                </div>
                <div style="padding:0px;">
                    <input type="number" name="attr_enclarm" class="sheet-combat-armor-input" style="font-size:12px;"/>
                </div>
                <div style="text-align:right;padding:0px;vertical-align:middle;padding-top:1px;padding-right:2px;">
                    <span style="font-weight:bold;text-align:right;font-size:12px;">Type:</span>
                </div>
                <div style="padding:0px;">
                    <input type="text" name="attr_typelarm" class="sheet-combat-armor-input" style="max-width:70px;font-size:12px;"/>
                </div>
            </div>
            <div class="sheet-combat-location"style="left:265px;top:540px">
                <div class = "sheet-combat-location-heading">Right Arm (8)</div>
                <div style="text-align:right;padding:0px;vertical-align:middle;padding-top:1px;padding-right:2px;">
                    <span style="font-weight:bold;text-align:right;font-size:12px">AR:</span>
                </div>
                <div style="padding:0px;">
                    <input type="number" name="attr_arrarm" class="sheet-combat-armor-input" style="font-size:12px;"/>
                </div>
                <div style="text-align:right;padding:0px;vertical-align:middle;padding-top:1px;padding-right:2px;">
                    <span style="font-weight:bold;text-align:right;font-size:12px;">ENC:</span>
                </div>
                <div style="padding:0px;">
                    <input type="number" name="attr_encrarm" class="sheet-combat-armor-input" style="font-size:12px;"/>
                </div>
                <div style="text-align:right;padding:0px;vertical-align:middle;padding-top:1px;padding-right:2px;">
                    <span style="font-weight:bold;text-align:right;font-size:12px;">Type:</span>
                </div>
                <div style="padding:0px;">
                    <input type="text" name="attr_typerarm" class="sheet-combat-armor-input" style="max-width:70px;font-size:12px;"/>
                </div>
            </div>
            <div class="sheet-combat-location"style="left:75px;top:715px">
                <div class = "sheet-combat-location-heading">Left Leg (7)</div>
                <div style="text-align:right;padding:0px;vertical-align:middle;padding-top:1px;padding-right:2px;">
                    <span style="font-weight:bold;text-align:right;font-size:12px">AR:</span>
                </div>
                <div style="padding:0px;">
                    <input type="number" name="attr_arlleg" class="sheet-combat-armor-input" style="font-size:12px;"/>
                </div>
                <div style="text-align:right;padding:0px;vertical-align:middle;padding-top:1px;padding-right:2px;">
                    <span style="font-weight:bold;text-align:right;font-size:12px;">ENC:</span>
                </div>
                <div style="padding:0px;">
                    <input type="number" name="attr_enclleg" class="sheet-combat-armor-input" style="font-size:12px;"/>
                </div>
                <div style="text-align:right;padding:0px;vertical-align:middle;padding-top:1px;padding-right:2px;">
                    <span style="font-weight:bold;text-align:right;font-size:12px;">Type:</span>
                </div>
                <div style="padding:0px;">
                    <input type="text" name="attr_typelleg" class="sheet-combat-armor-input" style="max-width:70px;font-size:12px;"/>
                </div>
            </div>
            <div class="sheet-combat-location"style="left:215px;top:715px">
                <div class = "sheet-combat-location-heading">Right Leg (6)</div>
                <div style="text-align:right;padding:0px;vertical-align:middle;padding-top:1px;padding-right:2px;">
                    <span style="font-weight:bold;text-align:right;font-size:12px">AR:</span>
                </div>
                <div style="padding:0px;">
                    <input type="number" name="attr_arrleg" class="sheet-combat-armor-input" style="font-size:12px;"/>
                </div>
                <div style="text-align:right;padding:0px;vertical-align:middle;padding-top:1px;padding-right:2px;">
                    <span style="font-weight:bold;text-align:right;font-size:12px;">ENC:</span>
                </div>
                <div style="padding:0px;">
                    <input type="number" name="attr_encrleg" class="sheet-combat-armor-input" style="font-size:12px;"/>
                </div>
                <div style="text-align:right;padding:0px;vertical-align:middle;padding-top:1px;padding-right:2px;">
                    <span style="font-weight:bold;text-align:right;font-size:12px;">Type:</span>
                </div>
                <div style="padding:0px;">
                    <input type="text" name="attr_typerleg" class="sheet-combat-armor-input" style="max-width:70px;font-size:12px;"/>
                </div>
            </div>
                <div class="sheet-combat-shield"style="left:120px;top:815px">
                <div class = "sheet-combat-shield-heading">Shield</div>
                <div style="text-align:right;padding:0px;vertical-align:middle;padding-top:1px;padding-right:2px;">
                    <span style="font-weight:bold;text-align:right;font-size:12px">BR:</span>
                </div>
                <div style="padding:0px;">
                    <input type="number" name="attr_shieldbr" class="sheet-combat-shield-input" style="font-size:12px;max-width:40px;"/>
                </div>
                <div style="text-align:right;padding:0px;vertical-align:middle;padding-top:1px;padding-right:2px;">
                    <span style="font-weight:bold;text-align:right;font-size:12px;">ENC:</span>
                </div>
                <div style="padding:0px;">
                    <input type="number" name="attr_shieldenc" class="sheet-combat-shield-input" style="font-size:12px;max-width:40px;"/>
                </div>
                <div style="text-align:right;padding:0px;vertical-align:middle;padding-top:1px;padding-right:2px;">
                    <span style="font-weight:bold;text-align:right;font-size:12px;">Type:</span>
                </div>
                <div class = "sheet-combat-shield-input-long" style="padding:0px;">
                    <input type="text" name="attr_shieldtype" class="sheet-combat-shield-input" style="font-size:12px;max-width:120px;"/>
                </div>
                    <div style="text-align:right;padding:0px;vertical-align:middle;padding-top:1px;padding-right:2px;">
                    <span style="font-weight:bold;text-align:right;font-size:12px;">Notes:</span>
                </div>
                <div class = "sheet-combat-shield-input-long" style="padding:0px;">
                    <input type="text" name="attr_shieldnotes" class="sheet-combat-shield-input" style="font-size:12px;max-width:120px;"/>
                </div>
            </div>
        </div>
        <div class ="sheet-right-aligned" style="top:425px;left:450px;">
            <input type="hidden" name="attr_d100luck"value="[[1d100cs@{luck1}cs@{luck2}cs@{luck3}cs@{luck4}cs@{luck5}cf@{unluck1}cf@{unluck2}cf@{unluck3}cf@{unluck4}cf@{unluck5}]]"/>
            <div class = "sheet-combat-prof-grid">
                <div class = "sheet-profs-grid-name"style = "font-weight:bold;text-align:center;grid-column: 1 / span 2;">
                    Combat Style
                </div>
                <div class = "sheet-profs-grid-rank"style = "font-weight:bold;">
                    Rank
                </div>
                <div class = "sheet-profs-grid-base"style = "font-weight:bold;">
                    Target
                </div>
                <input type="checkbox" class = "sheet-combatstyle-toggle"style="margin-top:40%"/>
                <input type="hidden" name="attr_combatstn"/>
                <div class = "sheet-profs-grid-name"style="background:none;padding-top:0px">
                    <button class = "sheet-skill-rollbutton" type="roll" style="font-size:13px;height:25px;width:100%;position:relative;z-index:2;box-shadow:none;margin-top:-2px" value=
                    "&{template:check} {{title=@{combatsname}}} {{target=[[@{combatstn}+?{Modifier|0}]]}} @{luckrolls}" 
                    name="roll_Check"label="Prof"></button>
                    <div class = "sheet-combat-profs-show"style = "margin-top:-26px;padding-top:4px;height:18px;">
                        <input type="text"  name="attr_combatsname"value = "Combat Style" style="width:95%;text-align:center;border: 0px;background:none;margin-top:-5px;">
                    </div>
                </div>
                <div class = "sheet-profs-grid-rank">
                    <select name="attr_combats" class="sheet-skill-rank"> 
                        <option value="-10" selected="selected">Untrained (-10)</option>
                        <option value="0">Novice (0) (+0)</option>
                        <option value="10">Apprentice (1) (+10)</option>
                        <option value="20">Journeyman(2) (+20)</option>
                        <option value="30">Adept (3) (+30)</option>
                        <option value="40">Expert (4) (+40)</option>
                        <option value="50">Master (5) (+50)</option>
                    </select></div>  
                <div class = "sheet-profs-grid-base">
                <input type="number" 
                style="width:105%;height:100%;background:#ebebeb;text-align:center;vertical-align:bottom; padding:0px;padding-left:8px;border-width:0px;"
                name="attr_foo_tn" value="@{combatstn}" disabled="true" ></div>
                <div class = "sheet-combat-prof-hide" style="">
                    <div class = "sheet-profs-grid-name"style = "border:0px;grid-column: 1/2; margin-left:10px;">
                        Characteristic:
                    </div>
                    <div class = "sheet-profs-grid-rank"style = "border:0px;grid-column: 3 /2;">
                    <select name="attr_combatschar" class="sheet-skill-rank" style="text-align:center"> 
                        <option value="strength" selected="selected">Strength</option>
                        <option value="agility">Agility</option>
                    </select></div>  
                </div>
                <div class ="sheet-combat-prof-notes">
                    <textarea class = "sheet-combat-prof-notes-area" name="attr_combatsequip">Combat Equipment & Notes</textarea>
                </div>
            </div>
            <div class="sheet-weapons-grid">
                <div class="sheet-weapons-title" style="font-weight:bold;">
                    Melee Weapons
                </div>
                <div class="sheet-weapons-damage"style="font-weight:bold">
                    DMG
                </div>
                <div class="sheet-weapons-hand"style="font-weight:bold">
                    Hand
                </div>
                <div class="sheet-weapons-reach"style="font-weight:bold">
                    Reach
                </div>
                <div class="sheet-weapons-enc"style="font-weight:bold">
                    ENC
                </div>
                <fieldset class="repeating_meleeweapons">
                    <div class="sheet-weapons-grid" style = "margin:0px;border-width:0px;">
                        <input type="hidden" name="attr_meleeroll"/>
                        <input type="hidden" name="attr_meleedamageroll"/>
                        <input type="hidden" name="attr_meleerowID"/>
                        <input type="checkbox" class = "sheet-mweapon-toggle"style="margin-top:30%"/>   
                        <div class = "sheet-weapons-name"style="background:none;">
                            <button class = "sheet-skill-rollbutton" type="roll" style="font-size:13px;height:15px;position:relative;z-index:2;box-shadow:none" 
                            value="@{meleeroll} {{id=@{meleerowID}}}{{charid=@{character_id}}}" 
                            name="roll_Attack"label="Attack"></button>
                            <div class = "sheet-weapons-show"style = "margin-top:-20px">
                                <input type="text"  name="attr_rweaponname"value = "New Weapon" style="width:100%;text-align:center;border: 0px;background:none;">
                            </div>
                            <button type="roll" style="display:none;" value="@{meleedamageroll}" name="roll_Damage"></button>
                        </div>
                        <div class="sheet-weapons-damage">
                            <select name="attr_rweapondamage" class="sheet-skill-rank" style="text-align:center;width:105%"> 
                                <option value="d0">-</option>
                                <option value="d4" selected="selected">1d4</option>
                                <option value="d6">1d6</option>
                                <option value="d8">1d8</option>
                                <option value="d10">1d10</option>
                                <option value="d12">1d12</option>
                            </select>
                        </div>
                        <div class="sheet-weapons-hand">
                            <select name="attr_rweaponhand" class="sheet-skill-rank" style="text-align:center;width:105%"> 
                                <option value="1" selected="selected">1H</option>
                                <option value="1.5">1.5H</option>
                                <option value="2">2H</option>
                            </select>
                        </div>
                        <div class="sheet-weapons-reach"style="font-weight:bold">
                             <input type="text"  name="attr_rweaponreach"value = "1m" style="width:100%;text-align:center;border: 0px;background:none;">
                        </div>
                        <div class="sheet-weapons-enc"style="font-weight:bold">
                             <input type="number"  name="attr_rweaponenc"value = "1" style="margin-left:5px;width:100%;text-align:center;border: 0px;background:none;">
                        </div>
                        <div class = "sheet-weapons-hide">
                            <div class="sheet-weapons-grid1" style = "margin:0px;border-width:0px;">
                                <div></div>
                                <div class = "sheet-weapons-name"style="background:none;font-weight:bold;padding-top:4.5px">
                                    Type:
                                </div>
                                <div class = "sheet-weapons-name"style="background:none;">
                                    <select name="attr_rweapondamagetype" class="sheet-skill-rank" style="text-align:center;width:105%"> 
                                        <option value="">None</option>
                                        <option value="Crushing" selected="selected">Crushing</option>
                                        <option value="Splitting">Splitting</option>
                                        <option value="Slashing">Slashing</option>
                                    </select>
                                </div>
                                 <div class = "sheet-weapons-name"style="background:none;font-weight:bold;padding-top:4.5px">
                                    Type Mod:
                                </div>
                                <div class = "sheet-weapons-name"style="background:none;">
                                    <input type="number"  name="attr_rweapontypemod"value = "0" style="margin-left:5px;width:100%;text-align:center;border: 0px;background:none;">
                                </div>
                                <div></div>
                                <div></div>
                                <div></div>
                                 <div class = "sheet-weapons-name"style="background:none;font-weight:bold;padding-top:4.5px">
                                    DMG Mod:
                                </div>
                                <div class = "sheet-weapons-name"style="background:none;">
                                    <input type="number"  name="attr_rweaponmod"value = "0" style="margin-left:5px;width:100%;text-align:center;border: 0px;background:none;">
                                </div>                         
                                <div class = "sheet-weapons-name"style="background:none;font-weight:bold;padding-top:4.5px">
                                    N/P/P:
                                </div>
                                <div class = "sheet-weapons-name"style="background:none;">
                                    <select name="attr_rweaponrollamount" class="sheet-skill-rank" style="text-align:center;width:105%"> 
                                        <option value="0" selected="selected">Normal</option>
                                        <option value="1">Primitive</option>
                                        <option value="2">Proven</option>
                                    </select>
                                </div>
                                <div class = "sheet-weapons-quality">
                                    <textarea class = "sheet-combat-prof-notes-area" name="attr_rweaponquals" style=" min-height:20px;max-height:20px;">Qualities & Notes...</textarea>
                                </div>
                            </div>
                        </div>
                    </div>
                </fieldset>
            </div>
            <div class="sheet-weapons-grid">
                <div class="sheet-weapons-title" style="font-weight:bold;">
                    Ranged Weapons
                </div>
                <div class="sheet-weapons-damage"style="font-weight:bold">
                    DMG
                </div>
                <div class="sheet-weapons-hand"style="font-weight:bold">
                    Hand
                </div>
                <div class="sheet-weapons-reach"style="font-weight:bold">
                    Ammo
                </div>
                <div class="sheet-weapons-enc"style="font-weight:bold">
                    ENC
                </div>
                <fieldset class="repeating_rangedweapons">
                    <div class="sheet-weapons-grid" style = "margin:0px;border-width:0px;">
                        <input type="hidden" name="attr_rangeroll"/>
                        <input type="hidden" name="attr_rangedamageroll"/>
                        <input type="hidden" name="attr_rangerowID"/>
                        <input type="checkbox" class = "sheet-mweapon-toggle"style="margin-top:30%"/>   
                        <div class = "sheet-weapons-name"style="background:none;">
                            <button class = "sheet-skill-rollbutton" type="roll" style="font-size:13px;height:15px;position:relative;z-index:2;box-shadow:none"
                             value="@{rangeroll} {{id=@{rangerowID}}}{{charid=@{character_id}}}" 
                             name="roll_Attack"label="Attack"></button>
                            <div class = "sheet-weapons-show"style = "margin-top:-20px">
                                <input type="text"  name="attr_rweaponname"value = "New Weapon" style="width:100%;text-align:center;border: 0px;background:none;">
                            </div>
                            <button type="roll" style="display:none;" value="@{rangedamageroll}" name="roll_Damage"></button>
                        </div>
                        <div class="sheet-weapons-damage">
                            <select name="attr_rweapondamage" class="sheet-skill-rank" style="text-align:center;width:105%"> 
                                <option value="d0">-</option>
                                <option value="d4" selected="selected">1d4</option>
                                <option value="d6">1d6</option>
                                <option value="d8">1d8</option>
                                <option value="d10">1d10</option>
                                <option value="d12">1d12</option>
                            </select>
                        </div>
                        <div class="sheet-weapons-hand">
                            <select name="attr_rweaponhand" class="sheet-skill-rank" style="text-align:center;width:105%"> 
                                <option value="1" selected="selected">1H</option>
                                <option value="2">2H</option>
                            </select>
                        </div>
                        <div class="sheet-weapons-reach"style="font-weight:bold">
                             <input type="number"  name="attr_rweaponammo"value = "0" style="width:100%;text-align:center;border: 0px;background:none;margin-left:8px">
                        </div>
                        <div class="sheet-weapons-enc"style="font-weight:bold">
                             <input type="number"  name="attr_rweaponenc"value = "1" style="margin-left:5px;width:100%;text-align:center;border: 0px;background:none;">
                        </div>
                        <div class = "sheet-weapons-hide">
                            <div class="sheet-weapons-grid1" style = "margin:0px;border-width:0px;">
                                <div></div>
                                 <div class = "sheet-weapons-name"style="background:none;font-weight:bold;padding-top:4.5px">
                                    Range:
                                </div>
                                <div class = "sheet-weapons-name"style="background:none;">
                                    <input type="text"  name="attr_rweaponrange"value = "00/000/000" style="width:100%;text-align:center;border: 0px;background:none;">
                                </div>
                                 <div class = "sheet-weapons-name"style="background:none;font-weight:bold;padding-top:4.5px">
                                    A-DMG:
                                </div>
                                <div class = "sheet-weapons-name"style="background:none;">
                                    <input type="number"  name="attr_rweaponmod"value = "0" style="margin-left:5px;width:100%;text-align:center;border: 0px;background:none;">
                                </div>                      
                                 <div class = "sheet-weapons-name"style="background:none;font-weight:bold;padding-top:4.5px">
                                    T-Mod:
                                </div>
                                <div class = "sheet-weapons-name"style="background:none;">
                                    <input type="number"  name="attr_rweapontypemod"value = "0" style="margin-left:5px;width:100%;text-align:center;border: 0px;background:none;">
                                </div>
                            </div>
                            <div class="sheet-weapons-grid2" style = "margin:0px;border-width:0px;">
                                <div></div>
                                <div class = "sheet-weapons-name"style="background:none;font-weight:bold;padding-top:4.5px">
                                    Type:
                                </div>
                                <div class = "sheet-weapons-name"style="background:none;">
                                    <select name="attr_rweapondamagetype" class="sheet-skill-rank" style="text-align:center;width:105%"> 
                                        <option value="None">None</option>
                                        <option value="Crushing" selected="selected">Crushing</option>
                                        <option value="Splitting">Splitting</option>
                                        <option value="Slashing">Slashing</option>
                                    </select>
                                </div>
                                
                                 <div class = "sheet-weapons-name"style="background:none;font-weight:bold;padding-top:4.5px">
                                    N/P/P:
                                </div>
                                <div class = "sheet-weapons-name"style="background:none;">
                                    <select name="attr_rweaponrollamount" class="sheet-skill-rank" style="text-align:center;width:105%"> 
                                        <option value="0" selected="selected">Normal</option>
                                        <option value="1">Primitive</option>
                                        <option value="2">Proven</option>
                                    </select>
                                </div>
                                <div class = "sheet-weapons-quality">
                                    <textarea class = "sheet-combat-prof-notes-area" name="attr_rweaponquals" style=" min-height:20px;max-height:20px;">Qualities & Notes...</textarea>
                                </div>
                            </div>
                        </div>
                    </div>
                </fieldset>
            </div>
            <div class = "sheet-traits-grid"style="margin-top:0px;  margin-left:-32px;">
                <div class = "sheet-skills-grid-name"style = "font-weight:bold;text-align:center;">
                Wounds & Conditions
                </div>       
                <fieldset  class = "repeating_wounds">
                    <div class = "sheet-trait-int-grid">
                        <input type="checkbox" class = "sheet-traits-toggle"/>
                        <input type="text" class = "sheet-traits-name" name="attr_woundname" value="Wound/Condition Location & Name"/>
                        <div class = "sheet-traits-hide">
                            <textarea class = "sheet-traits-desc" style="height:40px;" name="attr_wounddesc" value="Description"> </textarea>
                        </div>
                    </div>
                </fieldset>
            </div>
        </div>  
     
    </div>
    <div class='sheet-config'>
        <div class = "sheet-magic-grid">
            <div></div>
            <div class = "sheet-magic-title">
                Spell Name
            </div>
            <div class = "sheet-magic-title">
                School
            </div>
             <div class = "sheet-magic-title">
                Level
            </div>  
             <div class = "sheet-magic-title">
                Power
            </div>  
             <div class = "sheet-magic-title">
                Cost
            </div>  
            <div class ="sheet-magic-grid-fullwidth">
                <fieldset class="repeating_magic">
                    <div class ="sheet-magic-grid-internal">
                        <input type="hidden" name="attr_magicroll"/>
                        <input type="checkbox" class = "sheet-magic-toggle"style="margin-top:30%"/>   
                        <div class = "sheet-magic-input">
                            <button class = "sheet-skill-rollbutton" type="roll" style="position:relative;z-index:2;box-shadow:none" 
                                value="@{magicroll}" name="roll_Magic"label="Magic"></button>
                            <div class = "sheet-magic-show"style = "margin-top:-8%">
                                <input type="text"  name="attr_magicname"value = "New Spell" style="width:100%;height:90%;text-align:center;border: 0px;background:none;">
                            </div>
                        </div>
                        <div class = "sheet-magic-input">
                            <select name="attr_magicschool" class="sheet-magic-dropdown"> 
                                <option value="Alteration" selected="selected">Alteration</option>
                                <option value="Conjuration">Conjuration</option>
                                <option value="Destruction">Destruction</option>
                                <option value="Illusion">Illusion</option>
                                <option value="Mysticism">Mysticism</option>
                                <option value="Restoration">Restoration</option>
                            </select>
                        </div>
                        <div class = "sheet-magic-input">
                            <select name="attr_magiclevel" class="sheet-magic-dropdown"> 
                                <option value="Novice (1)" selected="selected">Novice (1)</option>
                                <option value="Apprentice (2)">Apprentice (2)</option>
                                <option value="Journeyman (3)">Journeyman (3)</option>
                                <option value="Adept (4)">Adept (4)</option>
                                <option value="Expert (5)">Expert (5)</option>
                                <option value="Master (6)">Master (6)</option>
                                <option value="Grandmaster (7)">Grandmaster (7)</option>
                            </select>
                        </div>
                        <div class = "sheet-magic-input">
                            <input type="text" name="attr_magicpower"value = "0" class="sheet-magic-number-input"style="width:100%;padding-left:14px">
                        </div>
                        <div class = "sheet-magic-input">
                            <input type="number" name="attr_magiccost"value = "0" class="sheet-magic-number-input"style="width:100%;padding-left:24px">
                        </div>
                        <div class = "sheet-magic-hide">
                            <div class = "sheet-magic-input">
                                Upkeep:
                            </div>
                             <div class = "sheet-magic-input">
                                <input type="checkbox" name= "attr_magicupkeep"/>   
                            </div>
                             <div class = "sheet-magic-input">
                                Overload:
                            </div>
                             <div class = "sheet-magic-input1">
                                <select name="attr_magicoverload" class="sheet-magic-dropdown"style="padding-left:0px"> 
                                <option value="None" selected="selected">None</option>
                                <option value="+WpB to BR">+WpB to BR</option>
                                <option value="+WpB to DMG">+WpB to DMG</option>                            
                                </select>
                            </div>
                            <input type="hidden" name="attr_magicrangesel" class="sheet-magic-range-select"/>
                            <input type="hidden" name="attr_magicaoesel" class="sheet-magic-aoe-select"/>
                            <input type="hidden" name="attr_magicguard" class="sheet-magic-guard-select"/>
                            <div class = "sheet-magic-input1">
                                <select name="attr_magicrangesel" class="sheet-magic-dropdown"style="padding-left:0px"> 
                                <option value="Melee" selected="selected">Melee</option>
                                <option value="Ranged">Ranged</option>
                                <option value="Direct">Direct</option>                            
                                </select>
                            </div>
                            <div class="sheet-melee">
                                 <div class = "sheet-magic-input">
                                    <input type="text" name="attr_magicrange"value = "1m" class="sheet-magic-number-input"style="width:100%;height: 15px;">
                                </div>
                            </div>
                            <div class="sheet-ranged">
                                <div class = "sheet-magic-input">
                                    <input type="text" name="attr_magicrange"value = "100m" class="sheet-magic-number-input"style="width:100%;height: 15px;">
                                </div>
                            </div>
                            <div class="sheet-ranged">
                                <div class = "sheet-magic-input"style="width:100%;">
                                    <select name="attr_magicaoesel" class="sheet-magic-dropdown"style="padding-left:0px"> 
                                    <option value="0" selected="selected">Normal</option>
                                    <option value="1">AoE</option>                
                                    </select>
                                </div>
                            </div>
                            <div class="sheet-aoe">
                                <div class = "sheet-magic-input"style="width:100%;">
                                    <select name="attr_magicaoe" class="sheet-magic-dropdown"style="padding-left:0px"> 
                                    <option value="Beam" selected="selected">Beam</option>
                                    <option value="Sphere">Sphere</option>
                                    <option value="Cone">Cone</option>  
                                    <option value="Pulse">Pulse</option>
                                    </select>
                                </div>
                            </div>
                            <div class="sheet-aoe">
                               <div class = "sheet-magic-input">
                                    <input type="text" name="attr_magicaoerange"value = "30m" class="sheet-magic-number-input"style="width:100%;height: 15px;">
                                </div>
                            </div>
                            <div class="sheet-direct">
                                <div class = "sheet-magic-input">
                                    <input type="text" name="attr_magicrange"value = "30m" class="sheet-magic-number-input"style="width:100%;height: 15px;">
                                </div>
                            </div>
                            <div class = "sheet-magic-inputrow2">
                                Reaction:
                            </div>
                            <div class = "sheet-magic-inputrow2">
                                <input type="checkbox" name= "attr_magicreaction"/>   
                            </div>
                             <div class = "sheet-magic-inputrow2" >
                            </div>
                            <div class = "sheet-magic-inputrow2" >
                                Mage Guard:
                            </div>
                            <div class = "sheet-magic-inputrow2">
                                 <select name="attr_magicguard" class="sheet-magic-dropdown"style="padding-left:0px"> 
                                    <option value="None" selected="selected">None</option>
                                    <option value="+WpB to bonus HP">+WpB to bonus HP</option>
                                    <option value="+WpB to bonus HP (type)">+WpB to bonus HP (type)</option>
                                    <option value="+WpB to AR">+WpB to AR</option>
                                    <option value="+WpB to Magic AR">+WpB to Magic AR</option>               
                                    <option value="+WpB to (type) AR">+WpB to (type) AR</option>
                                </select>
                            </div>
                            <div class ="sheet-magic-guard-type">
                                <div class = "sheet-magic-inputrow2">
                                    <select name="attr_magicguardtype" class="sheet-magic-dropdown"style="padding-left:0px"> 
                                        <option value="Fire" selected="selected">Fire</option>
                                        <option value="Frost">Frost</option>
                                        <option value="Shock">Shock</option>
                                        <option value="Poison">Poison</option>
                                    </select>
                                </div>
                            </div>
                            <div class = "sheet-magic-inputrow3">
                                <textarea class = "sheet-traits-desc" style="height:36px;margin:0px;width:100%;" name="attr_magicdesc" value="Magic Description..."> </textarea>
                            </div>
                        </div>
                    </div>
                </fieldset>
            </div>
        </div>
    </div>
</div>

<rolltemplate class="sheet-rolltemplate-check">
    <div class = "sheet-rolltemplate-check-container">
        <div class ="sheet-rolltemplate-check-header">
            {{#title}}<div class="sheet-rolltemplate-check-title">{{title}}</div>{{/title}}
            {{#subtitle}}<div class="sheet-rolltemplate-check-subtitle">{{subtitle}}</div>{{/subtitle}}
        </div>
        <div class = "sheet-rolltemplate-check-content">
            {{#allprops() title subtitle dos}}
                <div class="sheet-rolltemplate-check-key">{{key}}</div>
                <div class="sheet-rolltemplate-check-value  " >{{value}}</div>
            {{/allprops() title subtitle dos}}

            {{#rollLess() result target}}
                <div class="sheet-rolltemplate-check-crit">Passed!</div>               
            {{/rollLess() result target}}
            
            {{#rollTotal() result target}}
                <div class="sheet-rolltemplate-check-crit">Passed!</div>               
            {{/rollTotal() result target}}
            {{#rollGreater() result target}}
                <div class="sheet-rolltemplate-check-fumble">Failed!</div>
            {{/rollGreater() result target}}
            
            {{#rollWasCrit() result}}
                <div class="sheet-rolltemplate-check-crit">Critical Success!</div>
            {{/rollWasCrit() result}}
            
            {{#rollWasFumble() result}}
                <div class="sheet-rolltemplate-check-fumble">Critical Failure!</div>
            {{/rollWasFumble() result}}
        </div>
    </div>
</rolltemplate>

<rolltemplate class="sheet-rolltemplate-attack">
     <div class = "sheet-rolltemplate-check-container">
        <div class ="sheet-rolltemplate-check-header">
            {{#title}}<div class="sheet-rolltemplate-check-title">{{title}}</div>{{/title}}
            <div class="sheet-rolltemplate-check-subtitle">
            {{#subtitle}}{{subtitle}}{{/subtitle}}
            </div>
        </div>
        <div class = "sheet-rolltemplate-attack-content2col">
           {{#target}}<div class="sheet-rolltemplate-check-key">Target</div>
            <div class="sheet-rolltemplate-check-value">{{target}}</div>{{/target}}
            <div class="sheet-rolltemplate-check-key">Result</div>
            <div class="sheet-rolltemplate-check-value">{{attack}}</div>
            {{#rollLess() attack target}}
            {{#rollTotal() melee 1}}
                <div class="sheet-rolltemplate-check-crit">[Passed!](~{{charid}}|repeating_meleeweapons_{{id}}_Damage)</div>
            {{/rollTotal() melee 1}}
            {{#rollTotal() melee 0}}
                <div class="sheet-rolltemplate-check-crit">[Passed!](~{{charid}}|repeating_rangedweapons_{{id}}_Damage)</div>
            {{/rollTotal() melee 0}}
            {{/rollLess() attack target}}
            
            {{#rollTotal() attack target}}
                {{#rollTotal() melee 1}}
                <div class="sheet-rolltemplate-check-crit">[Passed!](~{{charid}}|repeating_meleeweapons_{{id}}_Damage)</div>
            {{/rollTotal() melee 1}}
            {{#rollTotal() melee 0}}
                <div class="sheet-rolltemplate-check-crit">[Passed!](~{{charid}}|repeating_rangedweapons_{{id}}_Damage)</div>
            {{/rollTotal() melee 0}}
            {{/rollTotal() attack target}}

            {{#rollGreater() attack target}}
                <div class="sheet-rolltemplate-check-fumble">Failed!</div>
            {{/rollGreater() attack target}}

            {{#rollWasCrit() attack}}
            {{#rollTotal() melee 1}}
                <div class="sheet-rolltemplate-check-crit">[Critical Success!](~{{charid}}|repeating_meleeweapons_{{id}}_Damage)</div>
            {{/rollTotal() melee 1}}
            {{#rollTotal() melee 0}}
                <div class="sheet-rolltemplate-check-crit">[Critical Success!](~{{charid}}|repeating_rangedweapons_{{id}}_Damage)</div>
            {{/rollTotal() melee 0}}
            {{/rollWasCrit() attack}}
            
            {{#rollWasFumble() attack}}
                <div class="sheet-rolltemplate-check-fumble">Critical Failure!</div>
            {{/rollWasFumble() attack}}
              
        </div>
     </div>
</rolltemplate> 
<rolltemplate class="sheet-rolltemplate-damage">
     <div class = "sheet-rolltemplate-check-container">
        <div class ="sheet-rolltemplate-damage-content">
          
            <div class ="sheet-rolltemplate-damage-location">
                {{#rollTotal() location 10}}
                Head
                {{/rollTotal() location 10}}
                {{#rollBetween() location 1 5}}
                Body
                {{/rollBetween() location 1 5}}
                {{#rollTotal() location 6}}
                Right Leg
                {{/rollTotal() location 6}}
                {{#rollTotal() location 7}}
                Left Leg
                {{/rollTotal() location 7}}
                {{#rollTotal() location 8}}
                Right Arm
                {{/rollTotal() location 8}}
                {{#rollTotal() location 9}}
                Left Arm
                {{/rollTotal() location 9}}
            </div>

            {{#damage}}<div class ="sheet-rolltemplate-damage-number">{{damage}}</div>{{/damage}}
            {{rollGreater() tdam 0}}
                <div class="sheet-rolltemplate-damage-subnumber">{{type}} ({{tdam}})</div>
            {{rollGreater() tdam 0}}
        </div>
     </div>
</rolltemplate>
<rolltemplate class="sheet-rolltemplate-spell">
     <div class = "sheet-rolltemplate-check-container"style="background:#FFF;">
        <div class ="sheet-rolltemplate-check-header">
            {{#name}}<div class="sheet-rolltemplate-check-title">{{name}}</div>{{/name}}
            <div class="sheet-rolltemplate-check-subtitle">
            {{#school}}{{school}}{{/school}} {{#level}}{{level}}{{/level}}
            </div>
        </div>
        {{#extras}}
         <div class ="sheet-rolltemplate-spell-value">
           <span style="font-weight: bold;">{{extras}}</span>
        </div>
        {{/extras}}
        {{#overload}}
         <div class ="sheet-rolltemplate-spell-value">
           <span style="font-weight: bold;">Overload: </span>{{overload}}
        </div>
        {{/overload}}
        {{#magicguard}}
         <div class ="sheet-rolltemplate-spell-value">
           <span style="font-weight: bold;">Magic Guard: </span>{{magicguard}}
        </div>
        {{/magicguard}}
        <div class ="sheet-rolltemplate-spell-value">
            <span style="font-weight: bold;">Cost: </span>{{cost}}
        </div>
        <div class ="sheet-rolltemplate-spell-value-boxed">
            <span style="font-weight: bold;">Power: </span>{{power}}
        </div>
        <div class ="sheet-rolltemplate-spell-value">
            <span style="font-weight: bold;">Range: </span>{{range}}
        </div>
       
        {{#aoe}}
        <div class ="sheet-rolltemplate-spell-value">
            <span style="font-weight: bold;">AoE: </span>{{aoe}} {{aoerange}}
        </div>
        {{/aoe}}
        <div class ="sheet-rolltemplate-spell-value">
            <span style="font-weight: bold;">Target: </span>{{target}}
        </div>
        <div class ="sheet-rolltemplate-spell-value">
            <span style="font-weight: bold;">Result: </span>{{result}}
        </div>
        <div class ="sheet-rolltemplate-spell-value">
            {{desc}}
        </div>
        {{#rollLess() result target}}
            <div class="sheet-rolltemplate-check-crit">Passed!</div>               
        {{/rollLess() result target}}
            
        {{#rollTotal() result target}}
            <div class="sheet-rolltemplate-check-crit">Passed!</div>               
        {{/rollTotal() result target}}
        {{#rollGreater() result target}}
            <div class="sheet-rolltemplate-check-fumble">Failed!</div>
        {{/rollGreater() result target}}

        {{#rollWasCrit() result}}
            <div class="sheet-rolltemplate-check-crit">Critical Success!</div>
        {{/rollWasCrit() result}}
            
        {{#rollWasFumble() result}}
            <div class="sheet-rolltemplate-check-fumble">Critical Failure!</div>
        {{/rollWasFumble() result}}
     </div>
</rolltemplate>

<script type="text/worker">
    const buttonlist = ["character","journal","configuration"];
    buttonlist.forEach(button => {
        on(`clicked:${button}`, function() {        
            setAttrs({
                sheetTab: button
            });
        });
    });

     on("change:repeating_professions:profchar change:repeating_professions:prof change:repeating_professions:profname", function() {
        getAttrs(["repeating_professions_profchar", "repeating_professions_prof"], function(values) 
        {
            getAttrs([values.repeating_professions_profchar], function(secvals) 
            {
                let char = parseInt(secvals[values.repeating_professions_profchar]);
                let newtn = char + parseInt(values.repeating_professions_prof);
              setAttrs({
                repeating_professions_proftn:newtn
              });
           });
       });
    });
    on("change:repeating_meleeweapons:rweaponrollamount change:repeating_meleeweapons:rweaponname change:repeating_meleeweapons change:strength", function(eventInfo) {
        getAttrs(["repeating_meleeweapons_rweaponrollamount", "repeating_meleeweapons_rweaponname","repeating_meleeweapons_rweapondamagetype","repeating_meleeweapons_rweaponmod",
        "combatstn","character_id","repeating_meleeweapons_rweapondamage","repeating_meleeweapons_rweapontypemod","strength"], function(values) 
        {
            let ids =  eventInfo.sourceAttribute.split("_");
            let rowID = ids[2];
            let damType=values.repeating_meleeweapons_rweapondamagetype;
            let damTypeAdd="";
            let damMod=values.repeating_meleeweapons_rweapontypemod;
            let damTypeDesc="";
            if(damType!="")
            {
                if(damType=="Crushing")
                    damTypeDesc="Deal bonus damage equal to the wielders Strength bonus (or X,if another value is given), capped at the AR value of the armour on the hit location or BR of a shield used to block it."
                else if(damType=="Splitting")
                    damTypeDesc="Deal bonus damage equal to the wielders Strength bonus (or X, if another value is given), but only if the DoS of the attack are higher than the AR value of the hit location."
                else
                    damTypeDesc=" Deal extra damage equal to the wielders Strength bonus (or X, if another value is given) against unarmored hit locations."
                damTypeAdd=damType;
                if(damMod==0)
                    damMod = Math.floor(parseInt(values.strength)/10);
            }
            let npp = parseInt(values.repeating_meleeweapons_rweaponrollamount);
            let luck = "cs@{luck1}cs@{luck2}cs@{luck3}cs@{luck4}cs@{luck5}cf@{unluck1}cf@{unluck2}cf@{unluck3}cf@{unluck4}cf@{unluck5}]]}}";
            let roll ="&{template:attack}{{title=@{rweaponname}}}{{subtitle=@{rweapondamagetype}}}{{target=[[@{combatstn}+?{Modifier|0}]]}}{{attack=[[1d100"+luck+"{{melee=[[1]]}}";          
            let dmg ="&{template:damage}{{attack=[["+values.repeating_meleeweapons_rweapondamage+"+"+values.repeating_meleeweapons_rweaponmod+"]]}}{{type=@{rweapondamagetype}}}{{tmod=@{rweapontypemod}}}{{tdam=[["+damMod+"]]}}{{location=[[1d10]]}}";
            switch(npp)
            {
                case 0:
                    dmg ="&{template:damage}{{damage=[[1"+values.repeating_meleeweapons_rweapondamage+"+"+values.repeating_meleeweapons_rweaponmod+"]]}}{{type=@{rweapondamagetype}}}{{tmod=@{rweapontypemod}}}{{tdam=[["+damMod+"]]}}{{location=[[1d10]]}}";
                break;
                case 1:
                    dmg ="&{template:damage}{{damage=[[2"+values.repeating_meleeweapons_rweapondamage+"kl1+"+values.repeating_meleeweapons_rweaponmod+"]]}}{{type=@{rweapondamagetype}}}{{tmod=@{rweapontypemod}}}{{tdam=[["+damMod+"]]}}{{location=[[1d10]]}}";
                break;
                case 2:
                    dmg ="&{template:damage}{{damage=[[2"+values.repeating_meleeweapons_rweapondamage+"kh1+"+values.repeating_meleeweapons_rweaponmod+"]]}}{{type=@{rweapondamagetype}}}{{tmod=@{rweapontypemod}}}{{tdam=[["+damMod+"]]}}{{location=[[1d10]]}}";
                break;
			}
            
            setAttrs({
                repeating_meleeweapons_meleeroll:roll,
                repeating_meleeweapons_meleerowID:rowID,
                repeating_meleeweapons_meleedamageroll:dmg
            });

       });
    });
    on("change:repeating_rangedweapons:rweaponrollamount change:repeating_rangedweapons:rweaponname change:repeating_rangedweapons change:repeating_rangedweapons_rweaponrange change:strength", function(eventInfo) {
        getAttrs(["repeating_rangedweapons_rweaponrollamount", "repeating_rangedweapons_rweaponname","repeating_rangedweapons_rweapondamagetype","repeating_rangedweapons_rweaponmod",
        "combatstn","character_id","repeating_rangedweapons_rweapondamage","repeating_rangedweapons_rweapontypemod","repeating_rangedweapons_rweaponrange","strength"], function(values) 
        {
            let ids =  eventInfo.sourceAttribute.split("_");
            let rowID = ids[2];
            console.log(rowID);
            let damType=values.repeating_rangedweapons_rweapondamagetype;
            let damTypeAdd="";
            let damMod=values.repeating_rangedweapons_rweapontypemod;
            let damTypeDesc="";
            if(damType!="")
            {
                if(damType=="Crushing")
                    damTypeDesc="Deal bonus damage equal to the wielders Strength bonus (or X,if another value is given), capped at the AR value of the armour on the hit location or BR of a shield used to block it."
                else if(damType=="Splitting")
                    damTypeDesc="Deal bonus damage equal to the wielders Strength bonus (or X, if another value is given), but only if the DoS of the attack are higher than the AR value of the hit location."
                else
                    damTypeDesc=" Deal extra damage equal to the wielders Strength bonus (or X, if another value is given) against unarmored hit locations."
                damTypeAdd=damType;
                if(damMod==0)
                    damMod = Math.floor(parseInt(values.strength)/10);
            }
            let npp = parseInt(values.repeating_rangedweapons_rweaponrollamount);
            let luck = "cs@{luck1}cs@{luck2}cs@{luck3}cs@{luck4}cs@{luck5}cf@{unluck1}cf@{unluck2}cf@{unluck3}cf@{unluck4}cf@{unluck5}]]}}";
            let roll ="&{template:attack}{{title=@{rweaponname}}}{{subtitle=@{rweapondamagetype} @{rweaponrange}}}{{target=[[@{combatstn}+?{Modifier|0}]]}}{{attack=[[1d100"+luck+"{{melee=[[0]]}}";          
            let dmg ="&{template:damage}{{attack=[["+values.repeating_rangedweapons_rweapondamage+"+"+values.repeating_rangedweapons_rweaponmod+"]]}}{{type=@{rweapondamagetype}}}{{tmod=@{rweapontypemod}}}{{tdam=[["+damMod+"]]}}{{location=[[1d10]]}}";
            switch(npp)
            {
                case 0:
                    dmg ="&{template:damage}{{damage=[[1"+values.repeating_rangedweapons_rweapondamage+"+"+values.repeating_rangedweapons_rweaponmod+"]]}}{{type=@{rweapondamagetype}}}{{tmod=@{rweapontypemod}}}{{tdam=[["+damMod+"]]}}{{location=[[1d10]]}}";
                break;
                case 1:
                    dmg ="&{template:damage}{{damage=[[2"+values.repeating_rangedweapons_rweapondamage+"kl1+"+values.repeating_rangedweapons_rweaponmod+"]]}}{{type=@{rweapondamagetype}}}{{tmod=@{rweapontypemod}}}{{tdam=[["+damMod+"]]}}{{location=[[1d10]]}}";
                break;
                case 2:
                    dmg ="&{template:damage}{{damage=[[2"+values.repeating_rangedweapons_rweapondamage+"kh1+"+values.repeating_rangedweapons_rweaponmod+"]]}}{{type=@{rweapondamagetype}}}{{tmod=@{rweapontypemod}}}{{tdam=[["+damMod+"]]}}{{location=[[1d10]]}}";
                break;
			}
            setAttrs({
                repeating_rangedweapons_rangeroll:roll,
                repeating_rangedweapons_rangerowID:rowID,
                repeating_rangedweapons_rangedamageroll:dmg
            });

       });
    });
    on("change:repeating_magic:magicname change:repeating_magic:magicschool change:repeating_magic:magiclevel change:repeating_magic:magicpower change:repeating_magic:magiccost change:repeating_magic:magicupkeep change:repeating_magic:magicoverload change:repeating_magic:magicrangesel change:repeating_magic:magicrange change:repeating_magic:magicaoesel change:repeating_magic:magicaoe change:repeating_magic:magicaoerange change:repeating_magic:magicreaction change:repeating_magic:magicguard change:repeating_magic:magicguardtype change:repeating_magic:magicdesc",function(eventInfo){
        getAttrs(["repeating_magic_magicname","repeating_magic_magicschool","repeating_magic_magiclevel","repeating_magic_magicpower","repeating_magic_magiccost","repeating_magic_magicupkeep","repeating_magic_magicoverload",
        "repeating_magic_magicrangesel","repeating_magic_magicrange","repeating_magic_magicaoesel","repeating_magic_magicaoe","repeating_magic_magicaoerange","repeating_magic_magicreaction","repeating_magic_magicguard",
        "repeating_magic_magicguardtype","repeating_magic_magicdesc"],function(values){
            let name = "{{name=@{magicname}}}";
            let desc = "{{desc=@{magicdesc}}}";
            let school = "{{school=@{magicschool}}}";
            let level = "{{level=@{magiclevel}}}";
            let powerText = values.repeating_magic_magicpower;
            let powerReplace="";
            if(powerText.search('d')!=-1)
            {
                powerReplace="[["+powerText+"]]";
			}
            else powerReplace=powerText;
            console.log(powerReplace);
            let power = "{{power="+powerReplace+"}}";
            let cost = "{{cost=@{magiccost}}}";
            let range = "{{range=@{magicrange}}}"
     
            let roll = "&{template:spell}"+name+desc+school+level+power+cost+range;
            let extras="";
            if(values.repeating_magic_magicreaction=="on")
            {
                extras= "Reaction";        
			}
            if(values.repeating_magic_magicupkeep=="on")
            {
                if(extras!="")
                    extras=extras+", Upkeep";
                else
                    extras="Upkeep";
			}
            if(extras!="")
            {
                extras="{{extras="+extras+"}}";
                roll=roll+extras;
            }
            if(values.repeating_magic_magicguard!="None")
            {
                let magicguard="{{magicguard="+values.repeating_magic_magicguard+"}}";
                roll=roll+magicguard;

                if(values.repeating_magic_magicguard=="+WpB to bonus HP (type)")
                {
                    let rep=magicguard.replace("type",values.repeating_magic_magicguardtype);
                    magicguard=rep;
				}
                if(values.repeating_magic_magicguard=="+WpB to (type) AR")
                {
                    let rep=magicguard.replace("type",values.repeating_magic_magicguardtype);
                    magicguard=rep;
				}
                roll=roll+magicguard;
			}
            if(values.repeating_magic_magicoverload!="None")
            {
                let overload="{{overload=@{magicoverload}}}";
                roll=roll+overload;
			}
            switch(values.repeating_magic_magicrangesel)
            {
                case "Melee":
                    break;
                case "Ranged":
                    if(values.repeating_magic_magicaoesel=="1")
                    {
                        let aoe = "{{aoe=@{magicaoe}}}";
                        let aoeRange="{{aoerange=@{magicaoerange}}}";
                        roll = roll+aoe+aoeRange;
					}
                    break;
                case "Direct":
                    break;
			}
            let target="[[0]]";
            switch(values.repeating_magic_magicschool)
            {
                case "Alteration":
                    target = "{{target=[[@{altetn}]]}}";
                    break;
                case "Conjuration":
                    target ="{{target=[[@{conjtn}]]}}";
                    break;
                case "Destruction":
                    target ="{{target=[[@{desttn}]]}}";
                    break;
                case "Illusion":
                    target="{{target=[[@{illutn}]]}}";
                    break;
                case "Mysticism":
                    target="{{target=[[@{mysttn}]]}}";
                    break;
                case "Restoration":
                    target="{{target=[[@{resttn}]]}}";
                    break;
			}
            roll=roll+"{{result=[[1d100cs@{luck1}cs@{luck2}cs@{luck3}cs@{luck4}cs@{luck5}cf@{unluck1}cf@{unluck2}cf@{unluck3}cf@{unluck4}cf@{unluck5}]]}}"
            roll=roll+target;
            setAttrs({
                repeating_magic_magicroll:roll
            });

        });
	});
    on("change:combats change:strength change:agility change:combatschar",function(eventInfo)
    {
        getAttrs(["combats","strength","agility","combatschar"],function(values)
        {
            let newTN =0;
            let mod = parseInt(values.combats);
            if(values.combatschar=="strength")
            {
                newTN = parseInt(values.strength)+mod;      
			}
            else
            {
                newTN = parseInt(values.agility)+mod;
			}
            setAttrs({
               combatstn:newTN,
            });
		});
	});

    on("change:initmodselect change:agility change:intelligence change:perception", function(eventInfo)
    {
        getAttrs(["initmodselect","agility","intelligence","perception"],function(values)
        {
            let select = parseInt(values.initmodselect);
            let returnInit = 0;
            if(select==0)
            {
                returnInit = Math.floor(values.agility/10)+Math.floor(values.intelligence/10)+Math.floor(values.perception/10);
            }
            if(select==1)
            {
                returnInit = Math.floor(values.intelligence/10)*3;
            }
            if(select==2)
            {
                returnInit = Math.floor(values.perception/10)*3;
            }
            setAttrs({
               init:returnInit,
            });
        });
    });

    on("sheet:opened", function(eventInfo)
    {
        setAttrs({
            luckrolls:"{{result=[[1d100cs@{luck1}cs@{luck2}cs@{luck3}cs@{luck4}cs@{luck5}cf@{unluck1}cf@{unluck2}cf@{unluck3}cf@{unluck4}cf@{unluck5}]]}} "
		});
	});

    const stats=["strength","endurance","agility","intelligence","willpower","perception","personality","luck"];
    console.log("before skills");
    const skills={
        acro:["strength","agility"],
        alch:["intelligence"],
        alte:["willpower"],
        athl:["strength","endurance"],
        coma:["strength","intelligence","personality"],
        come:["intelligence","personality"],
        conj:["willpower"],
        dece:["intelligence","personality"],
        dest:["willpower"],
        ench:["intelligence"],
        evad:["agility"],
        illu:["willpower"],
        inve:["intelligence","perception"],
        logi:["intelligence","perception"],
        lore:["intelligence"],
        myst:["willpower"],
        navi:["intelligence","perception"],
        obse:["perception"],
        prsu:["strength","personality"],
        rest:["willpower"],
        ride:["agility"],
        stea:["agility","perception"],
        subt:["agility","intelligence"],
        surv:["intelligence","perception"]
	};
    console.log("before object loop");
    Object.entries(skills).forEach(function([skill,stat])
    {
        let changeSkill='change:'+skill;
        on(changeSkill, ()=>
        {
            skillsUpdate(skill,stat);
		});
        stat.forEach(function(s)
        {
            let changeStat = 'change:'+s;
            on(changeStat, ()=>
            {
                skillsUpdate(skill,stat);
		    });
		});
	});

    function skillsUpdate(skill,stat)
    {
        console.log("update "+skill +". assigned stats:"+stat.length);
        let tempstat1="";
        let tempstat2="";
        let tempstat3="";
        switch(stat.length)
        {
            case 3:
                tempstat1=stat[0];
                tempstat2=stat[1];
                tempstat3=stat[2];
                updateTargetNumber3(skill,tempstat1,tempstat2,tempstat3);
            break;
            case 2:
                tempstat1=stat[0];
                tempstat2=stat[1];
                updateTargetNumber2(skill,tempstat1,tempstat2);
            break;
            case 1:
                tempstat1=stat[0];
                updateTargetNumber1(skill,tempstat1);
            break;
            case 0:
                console.log(skill+" has no stats to use!");
            break;
		}
	}

    function updateTargetNumber3(skill,stat1,stat2,stat3)
    {
        getAttrs([skill,stat1,stat2,stat3],function(values)
        {
            let att1 = parseInt(values[stat1]);
            let att2 = parseInt(values[stat2]);
            let att3 = parseInt(values[stat3]);
            let higherstat = Math.max(att1,att2,att3);
            let newnumber = higherstat+parseInt(values[skill]);
            setAttrs({
                [skill +'tn']:newnumber
            });
		});
	};
    function updateTargetNumber2(skill,stat1,stat2)
    {
        getAttrs([skill,stat1,stat2],function(values)
        {
            let att1 = parseInt(values[stat1]);
            let att2 = parseInt(values[stat2]);
            let higherstat = Math.max(att1,att2);
            let newnumber = higherstat+parseInt(values[skill]);
            setAttrs({
                [skill +'tn']:newnumber
            });
		});
	};
    function updateTargetNumber1(skill,stat1)
    {
        getAttrs([skill,stat1],function(values)
        {
            let att1 = parseInt(values[stat1]);
            let higherstat = att1;
            let newnumber = higherstat+parseInt(values[skill]);
            setAttrs({
                [skill +'tn']:newnumber
            });
		});
	};
   

</script>
